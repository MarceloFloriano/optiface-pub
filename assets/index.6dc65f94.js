import{a0 as O,aI as C}from"./index.4ffd6295.js";import{s as S}from"./sessao.deaff3e5.js";function v(e){const r=document.getElementById(e);return r?{width:r.offsetWidth,height:r.offsetHeight}:null}function w(e){return new Promise(r=>setTimeout(r,e))}const T={"-":"+",_:"/"},k={"+":"-","/":"_","=":""};var j={decodeFromUrl(e){return e.replace(/[-_.]/g,r=>T[r]),e=e+"===".slice((e.length+3)%4),atob(e)},decode(e){return atob(e)},encode(e){return btoa(e)},encodeToUrl(e){return e=btoa(e),e.replace(/[+/=]/g,r=>k[r])}};function P(e){return new Promise(r=>{const t=new FileReader;t.onloadend=()=>r(t.result),t.readAsDataURL(e)})}function A(e){return JSON.parse(JSON.stringify(e))}const i=function(e){let r;if(Array.isArray(e)){let t=[];for(const c of e)r=i(c),r!==null&&t.push(r);if(e.length!==0)return t}else if(typeof e=="object"&&e!==null){let t={};for(const c in e)r=i(e[c]),r!==null&&(t[c]=r);if(Object.keys(t).length!==0)return t}else return e===void 0?null:e;return null},p=function(e){if(Array.isArray(e))return e.map(r=>p(r));if(typeof e=="object"&&e!==null){let r={};for(const t in e)r[t]=p(e[t]);return r}else return e};function b(e){if(typeof e!="object")throw new Error("O object n\xE3o \xE9 v\xE1lido.");e=A(e);for(const r in e){const t=e[r];(t!==null||t!==void 0)&&(typeof t!="object"||(e[r]=b(t),t&&Object.keys(t).length>0))||(Array.isArray(e)?e.splice(r,1):delete e[r])}return e}function _({array:e,chave:r="id",campos:t,objetoOriginal:c}){const n={};for(const o of e||[]){let a;if(t){a={};for(const l of t){const s=Array.isArray(l)?l[0]:l,f=Array.isArray(l)?l[1]:l;a[f]=o[s]}}else a={...o},delete a[r];const u=o[r];n[u]=a}for(const o in c)n[o]||(n[o]=null);return n}function D({objetos:e,chave:r="id",campos:t}){const c=[];for(const n in e)if(n!==r){let o={[r]:n};if(t)for(const a of t){const u=Array.isArray(a)?a[0]:a,l=Array.isArray(a)?a[1]:a;o[l]=e[n][u]}else o={...o,...e[n]};c.push(o)}return c}function I(){return O.formatDate(Date.now())}const h=[null,void 0,"",0,!1],x=function(e,r){let t=[];const c=e.length>r.length?e.length:r.length;for(let n=0;n<c;n++){const o=y(e[n],r[n]);o&&(t[n]=o)}return t.length>0?t:null},z=function(e,r){let t={};e=e||{},r=r||{};const c=[...new Set([...Object.keys(e),...Object.keys(r)])];for(const n of c){const o=y(e[n],r[n]);o&&(t[n]=o)}return Object.keys(t).length>0?t:null},y=function(e,r){if(h.includes(e)){if(h.includes(r))return null}else if(Array.isArray(e)){if(Array.isArray(r))return x(e,r)}else if(typeof e=="object"&&typeof r=="object"&&r!==null)return z(e,r);if(e!==r){const t=i(e),c=i(r);if(t!==c)return{original:t,alterado:c}}return null},B="https://yo.b15.app/api";async function N(e,r){var c,n,o;let t;try{const a=new AbortController,{signal:u}=a,l=(c=r==null?void 0:r.timeout)!=null?c:3e4,s={method:"POST",headers:{"Content-Type":"application/json"},signal:u};if((n=r==null?void 0:r.requiresAuth)==null||n){const d=$utils.sessao.get(),m=(o=d==null?void 0:d.token)!=null?o:localStorage.getItem("OptTk");m&&(s.headers.Authorization=`Bearer ${m}`)}e&&(s.body=JSON.stringify(e)),t=setTimeout(()=>a.abort(),l);const f=await fetch(B,s);return f.ok?await f.json():{erro:"Erro inesperado"}}catch{return{erro:"Sem internet ou falha de comunica\xE7\xE3o"}}finally{clearTimeout(t)}}function U(){localStorage.removeItem("OptTk"),$router.push("/login")}function $(e,r){const t=document.createElement("script");t.src=e,t.onload=r,t.onerror=function(){console.error("Erro ao carregar o script:",e)},document.head.appendChild(t)}function g(e=0,r=2){const t=e<0?-1:1;return t*$lodash.round(t*e,r)}function F(e){return(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^ -}]|[<>"'@Â¨]/g," ").trim()}const J=function(){return C().toUpperCase()},E=function(){};var V=Object.freeze(Object.defineProperty({__proto__:null,api:N,sessao:S,logout:U,loadScript:$,uuid:J,tela:v,dormir:w,base64:j,blobToBase64:P,clonar:A,clonarCompactar:i,clonarV2:p,compactarObjeto:b,converterArrayParaObjeto:_,converterObjetoParraArray:D,dataAtual:I,diferenca:y,extenso:E,arredondar:g,removerCaracteresEspeciais:F},Symbol.toStringTag,{value:"Module"}));export{E as e,V as u};
