import{_ as v,r as y,o as r,j as g,d as s,aT as V,w as i,ab as R,ad as b,Z as h,c as p,h as w,Q as q,a3 as t,f as d,t as n,l as u,e as z,D as c,ac as k}from"./index.4ffd6295.js";import{Q as B}from"./QForm.b8a4b7c3.js";const C={data(){return{isMounted:!1,tela:0,idiomaSelecionado:{},campos:{nome:"",cpf:"",email:"",whatsapp:"",empresa:"",cnpj:""},validacaoRemota:{},validacao:{campos:{nome:[l=>l.length>=3||"Nome deve ter pelo menos 3 caracteres"],cpf:[l=>/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(l)||"CPF inv\xE1lido"],email:[l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||"E-mail inv\xE1lido"],whatsapp:[l=>/^\(?\d{2}\)?\s?\d{4,5}-?\d{4}$/.test(l)||"WhatsApp inv\xE1lido"],empresa:[l=>l.length>=2||"Nome da empresa deve ter pelo menos 2 caracteres"],cnpj:[l=>this.idiomaSelecionado.value==="pt-BR"?/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(l)||"CNPJ inv\xE1lido":!0]}}}},methods:{async cadastra(){try{$q.loading.show(),this.validacaoRemota=[];const l=await $utils.api({funcao:"3E5148A0-8297-42B8-9532-DA64328A8A79",id:$utils.uuid(),...this.campos});l.erro?($q.notify({message:l.erro,type:"negative"}),this.validacaoRemota=l.validacao):($q.notify({message:"Cadastro realizado com sucesso",type:"positive"}),this.gotoLogin())}catch(l){$q.notify({message:l.message,type:"negative"})}finally{$q.loading.hide()}},idioma(l){this.idiomaSelecionado=l},gotoLogin(){this.$router.replace("/login")},async resize(){this.tela=$utils.tela("LoginHeader").height}},mounted(){this.isMounted=!0}},Q={id:"Login",class:"bg-login"};function x(l,a,S,N,e,m){const f=y("ToolbarMain");return r(),g("div",Q,[s(V,{onResize:a[0]||(a[0]=o=>m.resize())}),s(R,{id:"LoginHeader",class:"q-pa-md"},{default:i(()=>[s(f,{onIdioma:m.idioma},null,8,["onIdioma"])]),_:1}),s(k,null,{default:i(()=>[s(b,{class:"g-container flex items-center justify-center text-white",style:h(`min-height:calc(100vh - ${e.tela}px);`)},{default:i(()=>[e.isMounted?(r(),p(B,{key:0,onSubmit:a[10]||(a[10]=o=>m.cadastra()),novalidate:"",autocorrect:"off",spellcheck:"false",autocapitalize:"off",autocomplete:"off",class:"full-width q-pa-md",style:{"max-width":"460px"}},{default:i(()=>[s(w,{dense:"",dark:""},{default:i(()=>[s(q,null,{default:i(()=>[s(t,{modelValue:e.campos.nome,"onUpdate:modelValue":a[1]||(a[1]=o=>e.campos.nome=o),rules:e.validacao.campos.nome,"lazy-rules":"",filled:"",label:"Nome",class:"q-my-md"},null,8,["modelValue","rules"]),e.idiomaSelecionado.value==="pt-BR"?(r(),p(t,{key:0,modelValue:e.campos.cpf,"onUpdate:modelValue":a[2]||(a[2]=o=>e.campos.cpf=o),rules:e.validacao.campos.cpf,"lazy-rules":"",filled:"",label:"CPF",mask:"###.###.###-##",class:"q-my-md",error:!!e.validacaoRemota.cpf,onBlur:a[3]||(a[3]=o=>delete e.validacaoRemota.cpf)},{error:i(()=>[d(n(e.validacaoRemota.cpf),1)]),_:1},8,["modelValue","rules","error"])):u("",!0),s(t,{modelValue:e.campos.email,"onUpdate:modelValue":a[4]||(a[4]=o=>e.campos.email=o),rules:e.validacao.campos.email,"lazy-rules":"",filled:"",type:"email",label:"E-mail",autocomplete:"email",autocapitalize:"off",class:"q-my-md",error:!!e.validacaoRemota.email,onBlur:a[5]||(a[5]=o=>delete e.validacaoRemota.email)},{error:i(()=>[d(n(e.validacaoRemota.email),1)]),_:1},8,["modelValue","rules","error"]),s(t,{modelValue:e.campos.whatsapp,"onUpdate:modelValue":a[6]||(a[6]=o=>e.campos.whatsapp=o),rules:e.validacao.campos.whatsapp,"lazy-rules":"",filled:"",label:"WhatsApp",class:"q-my-md",error:!!e.validacaoRemota.whatsapp,onBlur:a[7]||(a[7]=o=>delete e.validacaoRemota.whatsapp)},{error:i(()=>[d(n(e.validacaoRemota.whatsapp),1)]),_:1},8,["modelValue","rules","error"]),s(t,{modelValue:e.campos.empresa,"onUpdate:modelValue":a[8]||(a[8]=o=>e.campos.empresa=o),rules:e.validacao.campos.empresa,"lazy-rules":"",filled:"",label:"Empresa",class:"q-my-md"},null,8,["modelValue","rules"]),s(t,{modelValue:e.campos.cnpj,"onUpdate:modelValue":a[9]||(a[9]=o=>e.campos.cnpj=o),rules:e.validacao.campos.cnpj,label:e.idiomaSelecionado.value==="pt-BR"?"CNPJ":"Doc. Empresa",mask:e.idiomaSelecionado.value==="pt-BR"?"##.###.###/####-##":"",class:"q-my-md","lazy-rules":"",filled:""},null,8,["modelValue","rules","label","mask"]),s(z,{class:"q-my-md"},{default:i(()=>[s(c,{onClick:m.gotoLogin,icon:"arrow_back",color:"primary",round:"",unelevated:""},null,8,["onClick"]),s(c,{type:"submit",label:"Inscrever-se",color:"primary",unelevetad:"",class:"float-right"})]),_:1})]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1},8,["style"])]),_:1})])}var L=v(C,[["render",x]]);export{L as default};
