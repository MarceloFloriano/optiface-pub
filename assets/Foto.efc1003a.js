import{aW as kt,aX as Z,ay as X,av as st,v as Tt,aY as Mt,aZ as At,S as vt,a_ as dt,ax as it,_ as T,o as y,j as g,d as o,w as d,D as n,V as B,f as $,k,aT as O,a as l,a6 as m,p as u,a$ as A,l as M,r as z,b0 as b,t as C,s as S,af as ut,a4 as H,c as D,aa as K,M as E,E as Bt,L as Y,ao as gt,b1 as Dt,O as Ot,y as I,aA as Qt,x as Lt,b2 as Rt,N as St,aF as rt,R as It,ab as pt,C as N,ac as mt,ad as ht,Z as ft,a5 as J,u as lt,h as R,Q,e as P,q as at,Y as Ut,ae as Et,a8 as Ht,b3 as Vt,b4 as nt,aV as G,a3 as xt,b5 as Xt}from"./index.4ffd6295.js";import{Q as bt}from"./QSpace.1d8f7ae6.js";import{Q as Yt}from"./QForm.b8a4b7c3.js";import Nt from"./Visagismo.b035f4f3.js";import"./STLLoader.1a9c65b8.js";const $t={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Wt=new RegExp(`^([\\d+]+|${Object.keys($t).join("|")})$`,"i");function Zt(e,t){const{top:r,left:a}=dt(e);return Math.abs(a-t.left)>=7||Math.abs(r-t.top)>=7}var f=kt({name:"touch-repeat",beforeMount(e,{modifiers:t,value:r,arg:a}){const i=Object.keys(t).reduce((v,w)=>{if(Wt.test(w)===!0){const c=isNaN(parseInt(w,10))?$t[w.toLowerCase()]:parseInt(w,10);c>=0&&v.push(c)}return v},[]);if(t.mouse!==!0&&Z.has.touch!==!0&&i.length===0)return;const s=typeof a=="string"&&a.length!==0?a.split(":").map(v=>parseInt(v,10)):[0,600,300],h=s.length-1,p={keyboard:i,handler:r,noop:Tt,mouseStart(v){p.event===void 0&&typeof p.handler=="function"&&Mt(v)===!0&&(X(p,"temp",[[document,"mousemove","move","passiveCapture"],[document,"click","end","notPassiveCapture"]]),p.start(v,!0))},keyboardStart(v){if(typeof p.handler=="function"&&At(v,i)===!0){if((s[0]===0||p.event!==void 0)&&(vt(v),e.focus(),p.event!==void 0))return;X(p,"temp",[[document,"keyup","end","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),p.start(v,!1,!0)}},touchStart(v){if(v.target!==void 0&&typeof p.handler=="function"){const w=v.target;X(p,"temp",[[w,"touchmove","move","passiveCapture"],[w,"touchcancel","end","notPassiveCapture"],[w,"touchend","end","notPassiveCapture"]]),p.start(v)}},start(v,w,c){c!==!0&&(p.origin=dt(v));function q(_){p.styleCleanup=void 0,document.documentElement.style.cursor="";const L=()=>{document.body.classList.remove("non-selectable")};_===!0?(it(),setTimeout(L,10)):L()}Z.is.mobile===!0&&(document.body.classList.add("non-selectable"),it(),p.styleCleanup=q),p.event={touch:w!==!0&&c!==!0,mouse:w===!0,keyboard:c===!0,startTime:Date.now(),repeatCount:0};const F=()=>{if(p.timer=void 0,p.event===void 0)return;p.event.repeatCount===0&&(p.event.evt=v,c===!0?p.event.keyCode=v.keyCode:p.event.position=dt(v),Z.is.mobile!==!0&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),it(),p.styleCleanup=q)),p.event.duration=Date.now()-p.event.startTime,p.event.repeatCount+=1,p.handler(p.event);const _=h<p.event.repeatCount?h:p.event.repeatCount;p.timer=setTimeout(F,s[_])};s[0]===0?F():p.timer=setTimeout(F,s[0])},move(v){p.event!==void 0&&p.timer!==void 0&&Zt(v,p.origin)===!0&&(clearTimeout(p.timer),p.timer=void 0)},end(v){p.event!==void 0&&(p.styleCleanup!==void 0&&p.styleCleanup(!0),v!==void 0&&p.event.repeatCount>0&&vt(v),st(p,"temp"),p.timer!==void 0&&(clearTimeout(p.timer),p.timer=void 0),p.event=void 0)}};if(e.__qtouchrepeat=p,t.mouse===!0){const v=t.mouseCapture===!0||t.mousecapture===!0?"Capture":"";X(p,"main",[[e,"mousedown","mouseStart",`passive${v}`]])}if(Z.has.touch===!0&&X(p,"main",[[e,"touchstart","touchStart",`passive${t.capture===!0?"Capture":""}`],[e,"touchend","noop","passiveCapture"]]),i.length!==0){const v=t.keyCapture===!0||t.keycapture===!0?"Capture":"";X(p,"main",[[e,"keydown","keyboardStart",`notPassive${v}`]])}},updated(e,{oldValue:t,value:r}){const a=e.__qtouchrepeat;a!==void 0&&t!==r&&(typeof r!="function"&&a.end(),a.handler=r)},beforeUnmount(e){const t=e.__qtouchrepeat;t!==void 0&&(t.timer!==void 0&&clearTimeout(t.timer),st(t,"main"),st(t,"temp"),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchrepeat)}});const Gt={data(){return{dbPupilometro:$db.pupilometro,foto:"",fotoFator:1,showCamera:!1,imagemBranco:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",zoom:1,qtde:0,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0}}},emits:["mudarTela","upload"],methods:{touch(e){const t=this.$refs.foto;let r=0;try{r=e.evt.touches.length}catch{}if(this.qtde=r,this.pinca.scaling||r!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(t.style.left=parseFloat(t.style.left)+e.delta.x+"px",t.style.top=parseFloat(t.style.top)+e.delta.y+"px"),!this.pinca.scaling&&r===2){const a=this.distancia;a.x1i=e.evt.touches[0].pageX,a.y1i=e.evt.touches[0].pageY,a.x2i=e.evt.touches[1].pageX,a.y2i=e.evt.touches[1].pageY,a.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(t.style.width),this.pinca.height=parseFloat(t.style.height),this.pinca.top=parseFloat(t.style.top),this.pinca.left=parseFloat(t.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&r===0&&setTimeout(()=>{this.pinca.scaling=!1},300),this.pinca.scaling&&r===2)try{const a=e.evt,i=Math.hypot(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY)-this.pinca.zoom,s=this.$refs.foto;s.style.width=this.pinca.width+i+"px",s.style.height=this.pinca.height+i*this.fotoFator+"px",s.style.top=this.pinca.top-i/2*this.fotoFator+"px",s.style.left=this.pinca.left-i/2+"px"}catch(a){console.log(a)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},btProximo(){this.foto!==this.imagemBranco?this.$emit("mudarTela","TamanhoFoto"):$q.notifyAlert("Para prosseguir \xE9 necessario tirar uma foto")},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show(),this.foto=this.imagemBranco,this.dbPupilometro.fotoOriginal=this.imagemBranco,this.dbPupilometro.foto=this.imagemBranco,$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const e=await $g.promptCamera.show({sensor:!0});e.acao==="foto"&&(this.foto=e.foto,this.dbPupilometro.fotoOriginal=e.foto,this.redimensiona(),this.$emit("mudarTela","TamanhoFoto"))}if($q.platform.is.mobile){const e=await this.dbPupilometro.obterImagemCameraInput();e&&(this.foto=e,this.dbPupilometro.fotoOriginal=e,this.redimensiona(),this.$emit("mudarTela","TamanhoFoto"))}},uploadClick(){this.$emit("mudarTela","TamanhoFoto"),this.$emit("upload")},redimensiona(){const e=this.$refs.foto,t=new Image,r=this;t.onload=()=>{const a=document.body.clientWidth-20,i=window.innerHeight-100-20;let s=t.width,h=t.height,p=1.001;t.width/a>t.height/i?p=a/t.width:p=i/t.height,s=parseInt(s*p),h=parseInt(h*p),e.style.top=(i-h)/2+10+"px",e.style.left=(a-s)/2+10+"px",e.style.width=s+"px",e.style.height=h+"px",r.fotoFator=t.height/t.width},t.src=this.foto}},async mounted(){this.foto=this.dbPupilometro.fotoOriginal,this.redimensiona()}},Jt={id:"pupilometroTirarFoto"},Kt={class:"img-container"},jt=["src"],te={class:"ZonaTouch"};function ee(e,t,r,a,i,s){return y(),g("div",Jt,[o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[0]||(t[0]=h=>s.btFechar()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[11]||(t[11]=[$("Tirar Foto")])),_:1}),o(n,{onClick:t[1]||(t[1]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[2]||(t[2]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),o(O,{onResize:s.redimensiona},null,8,["onResize"]),l("div",Kt,[l("img",{src:i.foto,ref:"foto",class:"Foto",onContextmenu:t[3]||(t[3]=m(()=>{},["prevent"]))},null,40,jt)]),o(n,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"])),onClick:s.uploadClick},null,8,["onClick"]),o(n,{class:"TirarFoto",onClick:s.imagemCameraInput,color:"primary",size:"md",round:"",icon:"camera"},null,8,["onClick"]),o(n,{class:"ExcluirFoto",onClick:s.excluirFoto,color:"primary",size:"md",round:"",icon:"delete"},null,8,["onClick"]),u(o(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(l("div",te,null,512),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),t[12]||(t[12]=l("div",{class:"BaseBotoes"},null,-1)),u(o(n,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,s.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,s.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,s.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[10]||(t[10]=m(()=>{},["prevent"]))},null,512),[[f,s.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]])])}var oe=T(Gt,[["render",ee],["__scopeId","data-v-7edbb2ed"]]);const se={data(){return{dbPupilometro:$db.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},emits:["mudarTela"],methods:{touch(e){const t=this.$refs.foto;let r=0;try{r=e.evt.touches.length}catch{}if(this.qtde=r,console.log(r),this.pinca.scaling||r!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(t.style.left=parseFloat(t.style.left)+e.delta.x+"px",t.style.top=parseFloat(t.style.top)+e.delta.y+"px"),!this.pinca.scaling&&r===2){const a=this.distancia;a.x1i=e.evt.touches[0].pageX,a.y1i=e.evt.touches[0].pageY,a.x2i=e.evt.touches[1].pageX,a.y2i=e.evt.touches[1].pageY,a.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(t.style.width),this.pinca.height=parseFloat(t.style.height),this.pinca.top=parseFloat(t.style.top),this.pinca.left=parseFloat(t.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&r===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&r===2)try{const a=e.evt,i=Math.hypot(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY)-this.pinca.zoom,s=this.$refs.foto;s.style.width=this.pinca.width+i+"px",s.style.height=this.pinca.height+i*this.fotoFator+"px",s.style.top=this.pinca.top-i/2*this.fotoFator+"px",s.style.left=this.pinca.left-i/2+"px"}catch(a){console.log(a)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick(){this.$refs.Upload.click()},abrirFoto(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var r=new FileReader;r.onload=()=>{this.dbPupilometro.fotoOriginal=r.result},r.readAsDataURL(t[0])}},mudaCentralizaFoto(){const e=this.$refs.quadro,t={top:parseInt(e.style.top),left:parseInt(e.style.left),width:parseInt(e.style.width),height:parseInt(e.style.height)},r=this.$refs.foto,a=new Image,i=this;a.onload=()=>{let s=a.width,h=a.height,p=1.001;a.width>a.height?p=t.width/a.height:p=t.width/a.width,s=parseInt(s*p),h=parseInt(h*p),r.style.top=(t.height-h)/2+t.top+"px",r.style.left=(t.width-s)/2+t.left+"px",r.style.width=s+"px",r.style.height=h+"px",i.fotoFator=a.height/a.width},a.src=this.dbPupilometro.fotoOriginal},btProximo(){const e=document.createElement("canvas"),t=e.getContext("2d"),r=this.$refs.foto;e.width=1200,e.height=1200;const a={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},i={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},s={left:i.left-a.left,top:i.top-a.top};t.drawImage(r,s.left/a.width*a.naturalWidth,s.top/a.height*a.naturalHeight,i.width/a.width*a.naturalWidth,i.height/a.height*a.naturalHeight,0,0,1200,1200),this.dbPupilometro.foto=e.toDataURL()+"",this.dbPupilometro.medidas.tamanhoArmacao=100,this.$emit("mudarTela","Olho")},btAnterior(){this.$emit("mudarTela","TirarFoto")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},redimensiona(){const e=this.$refs.quadro,t=document.body.clientWidth-20,r=window.innerHeight-100-20;t>r?e.style.height=r+"px":e.style.height=t+"px",e.style.width=e.style.height,e.style.top=(window.innerHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";const a=document.getElementsByClassName("rosto");for(const i of a)i.style.position="absolute",i.style.top=e.style.top,i.style.left=e.style.left,i.style.width=e.style.width,i.style.height=e.style.height}},mounted(){this.redimensiona();const e=this.$refs.quadro,t=this.$refs.foto;t.style.top=e.style.top,t.style.left=e.style.left,t.style.width=e.style.width,t.style.height=e.style.height}},ie={id:"telaTamanhoFoto"},re=["src"],le={class:"quadro",ref:"quadro"},ae={key:0,class:"rosto",viewBox:"0 0 300 420"},ne={key:1,class:"rosto",viewBox:"0 0 300 420"},de={key:2,class:"rosto",viewBox:"0 0 300 420"},ue={key:3,class:"btRosto",viewBox:"0 0 300 420"},pe={key:4,class:"btRosto",viewBox:"0 0 300 420"},me={class:"ZonaTouch"};function he(e,t,r,a,i,s){return y(),g("div",ie,[o(O,{onResize:s.redimensiona},null,8,["onResize"]),l("img",{class:"Foto",ref:"foto",src:i.dbPupilometro.fotoOriginal,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,re),l("div",le,null,512),o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[12]||(t[12]=[$("Tratamento Foto")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),l("div",null,[i.tipoRosto===1?(y(),g("svg",ae,t[13]||(t[13]=[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)]))):M("",!0),i.tipoRosto===2?(y(),g("svg",ne,t[14]||(t[14]=[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,-1)]))):M("",!0),i.tipoRosto===3?(y(),g("svg",de,t[15]||(t[15]=[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)]))):M("",!0),i.tipoRosto===4?(y(),g("svg",ue,t[16]||(t[16]=[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:`M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1
          C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6
          c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6
          v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z`},null,-1)]))):M("",!0),i.tipoRosto===5?(y(),g("svg",pe,t[17]||(t[17]=[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)]))):M("",!0)]),o(n,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onClick:s.uploadClick,onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,8,["onClick"]),u(o(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(l("div",me,null,512),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),t[18]||(t[18]=l("div",{class:"BaseBotoes"},null,-1)),u(o(n,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,s.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,s.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,s.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[10]||(t[10]=m(()=>{},["prevent"]))},null,512),[[f,s.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),l("input",{ref:"Upload",type:"file",id:"Upload",onChange:t[11]||(t[11]=(...h)=>s.abrirFoto&&s.abrirFoto(...h)),style:{visibility:"hidden"}},null,544),t[19]||(t[19]=l("div",{class:"btsTipoRosto"},null,-1))])}var fe=T(se,[["render",he],["__scopeId","data-v-1fd4ae40"]]);const ce={components:{},data(){return{dbPupilometro:$db.pupilometro}},emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Olho")},btAnterior(){this.$emit("mudarTela","TamanhoFoto")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},redimensiona(){const e=this.$refs.foto;e.style.position="absolute";const t=document.body.clientWidth-20,r=window.innerHeight-120-20;t>r?e.style.height=r+"px":e.style.height=t+"px",e.style.width=e.style.height,e.style.top="50.5px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px"}}},ye=["src"];function ve(e,t,r,a,i,s){const h=z("campo");return y(),g("div",null,[o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[0]||(t[0]=p=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[5]||(t[5]=[$("Tamanho Arma\xE7\xE3o")])),_:1}),o(h,{modelValue:i.dbPupilometro.medidas.tamanhoArmacao,"onUpdate:modelValue":t[1]||(t[1]=p=>i.dbPupilometro.medidas.tamanhoArmacao=p),tipo:"decimal",decimals:"2",suffix:"mm",color:"white","label-color":"white",dark:"",dense:"",class:"q-mr-md",style:{"max-width":"90px"}},null,8,["modelValue"]),o(n,{onClick:t[2]||(t[2]=p=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=p=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,40,ye),o(O,{onResize:s.redimensiona},null,8,["onResize"])])}var ge=T(ce,[["render",ve]]);const xe={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo(){const e=[];return e[1]="Olho Direito",e[2]="Olho Direito",e[3]="Centro Olho Direito",e[4]="Olho Esquerdo",e[5]="Olho Esquerdo",e[6]="Centro Olho Esquerdo",e[this.passo]}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.$refs.quadro;let t=`scale(${this.zoom})`;[1,2,3].indexOf(this.passo)!==-1?t+=" translateX(15%)":t+=" translateX(-15%)",e.style.transform=t},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+e.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+e.delta.y/this.zoom+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.desenha()}catch{}},btProximo(){if(this.passo>=1&&this.passo<=5){this.passo+=1,this.desenha();return}this.passo===6&&(this.dbPupilometro.medidas.olhoDireito={...this.dbPupilometro.medidas.olhoDireito,superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}},this.dbPupilometro.medidas.olhoEsquerdo={...this.dbPupilometro.medidas.olhoEsquerdo,superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}},this.dbPupilometro.medidas.diagonal.p1.left===0&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Diagonal"))},btAnterior(){if(this.passo===1){this.$emit("mudarTela","TamanhoFoto");return}this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha())},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},moveu(e){const t=this.$refs["p"+this.passo];if(e==="up"){let r=parseFloat(t.style.top)-1;r<0&&(r=0),t.style.top=r+"px"}if(e==="down"&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),e==="left"){let r=parseFloat(t.style.left)-1;r<0&&(r=0),t.style.left=r+"px"}e==="right"&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,r=window.innerHeight-60-20;t>r?this.zoom=r/1200:this.zoom=t/1200,this.zoom=this.zoom*2,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const e=this.dbPupilometro.medidas;this.$refs.p1.style.top=e.olhoDireito.superior.top+"px",this.$refs.p1.style.left=e.olhoDireito.superior.left+"px",this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=e.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=e.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=e.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=e.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=e.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=e.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},be={id:"telaOlho"},we={ref:"quadro"},$e=["src"],ze={ref:"p1",id:"p1"},Fe={ref:"p2",id:"p2"},Ce={ref:"p3",id:"p3"},qe={ref:"p4",id:"p4"},_e={ref:"p5",id:"p5"},Pe={ref:"p6",id:"p6"},ke={class:"ZonaTouch"};function Te(e,t,r,a,i,s){return y(),g("div",be,[l("div",we,[l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,$e),u(l("div",ze,null,512),[[b,i.passo===1]]),u(l("div",Fe,null,512),[[b,i.passo===2]]),u(l("div",Ce,null,512),[[b,i.passo===3]]),u(l("div",qe,null,512),[[b,i.passo===4]]),u(l("div",_e,null,512),[[b,i.passo===5]]),u(l("div",Pe,null,512),[[b,i.passo===6]])],512),o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>[$(C(s.titulo),1)]),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(l("div",ke,null,512),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),t[10]||(t[10]=l("div",{class:"BaseBotoes"},null,-1)),u(o(n,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.centralizaQuadroTela},null,8,["onResize"])])}var Me=T(xe,[["render",Te],["__scopeId","data-v-6ad8ad8e"]]);const Ae={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1},linhaDiagonal:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela"],methods:{desenha(){const e=this.dbPupilometro.medidas;e.diagonal.distanciapx=Math.hypot(Math.abs(e.diagonal.p2.left-e.diagonal.p1.left),Math.abs(e.diagonal.p1.top-e.diagonal.p2.top)),e.diagonal.distancia=e.diagonal.distanciapx/e.fator,this.$refs.p1.style.top=e.diagonal.p1.top+"px",this.$refs.p1.style.left=e.diagonal.p1.left+"px",this.$refs.p2.style.top=e.diagonal.p2.top+"px",this.$refs.p2.style.left=e.diagonal.p2.left+"px",this.$refs.p2.style.height=e.diagonal.distanciapx+"px";const t=this.$refs.quadro;let r=`scale(${this.zoom.toFixed(2)})`;t.style.transform=r,this.linhaDiagonal.x1=e.diagonal.p1.left,this.linhaDiagonal.y1=e.diagonal.p1.top,this.linhaDiagonal.x2=e.diagonal.p2.left,this.linhaDiagonal.y2=e.diagonal.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(e,t){let r=0;try{r=e.evt.touches.length}catch{}this.pinca.scaling||r!==2&&(this.dbPupilometro.medidas.diagonal[t].top=this.dbPupilometro.medidas.diagonal[t].top+e.delta.y/this.zoom,this.dbPupilometro.medidas.diagonal[t].left=this.dbPupilometro.medidas.diagonal[t].left+e.delta.x/this.zoom,this.desenha())},touchP1(e){this.touchP(e,"p1")},touchP2(e){this.touchP(e,"p2")},btProximo(){this.dbPupilometro.calcularDistancias(),this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Olho")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},moveu(e){e==="Bt1Up"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),e==="Bt1Down"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),e==="Bt1Left"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),e==="Bt1Right"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),e==="Bt2Up"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),e==="Bt2Down"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),e==="Bt2Left"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),e==="Bt2Right"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,r=window.innerHeight-60-20;t>r?this.zoom=r/600:this.zoom=t/600,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left="-500px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const e=this.$refs.quadro;this.$refs.svgDiagonal.style.position="absolute",this.$refs.svgDiagonal.style.top=0,this.$refs.svgDiagonal.style.left=0,this.$refs.svgDiagonal.style.width=e.style.width,this.$refs.svgDiagonal.style.height=e.style.height,this.redimensiona()}},Be={id:"telaBifocal"},De={ref:"quadro"},Oe=["src"],Qe={ref:"svgDiagonal",class:"svgDiagonal"},Le=["x1","y1","x2","y2"],Re={ref:"p2",id:"p2",class:"text-primary"},Se={ref:"p1",id:"p1",class:"text-primary"};function Ie(e,t,r,a,i,s){return y(),g("div",Be,[l("div",De,[l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Oe),u((y(),g("svg",Qe,[l("line",{stroke:"#31ccec","stroke-width":"5",x1:i.linhaDiagonal.x1,y1:i.linhaDiagonal.y1,x2:i.linhaDiagonal.x2,y2:i.linhaDiagonal.y2},null,8,Le)])),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),l("div",Re,[u(o(S,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[A,s.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),l("div",Se,[u(o(S,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[A,s.touchP1,void 0,{prevent:!0,mouse:!0}]])],512)],512),o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[14]||(t[14]=[$("Diagonal")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[10]||(t[10]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[11]||(t[11]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:t[12]||(t[12]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:t[13]||(t[13]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.centralizaQuadroTela},null,8,["onResize"])])}var Ue=T(Ae,[["render",Ie],["__scopeId","data-v-5b352930"]]);const Ee={data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:1.6,pinca:{scaling:!1}}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px";const t=this.$refs.quadro;let r=`scale(${this.zoom.toFixed(2)})`;t.style.transform=r},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.dbPupilometro.calcularDistancias(),this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Diagonal")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},moveu(e){e==="od-up"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),e==="od-down"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),e==="oe-up"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),e==="oe-down"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t=document.body.clientWidth-20,r=window.innerHeight-60-20;t>r?this.zoom=r/1200:this.zoom=t/1200,e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},He={id:"telaBifocal"},Ve={ref:"quadro"},Xe=["src"],Ye={ref:"p1",id:"p1"},Ne={ref:"p2",id:"p2"},We={ref:"odbifocal",id:"odbifocal"},Ze={ref:"oebifocal",id:"oebifocal"};function Ge(e,t,r,a,i,s){return y(),g("div",He,[l("div",Ve,[u(l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Xe),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),u(l("div",Ye,null,512),[[b,i.passo===1]]),u(l("div",Ne,null,512),[[b,i.passo===2]]),l("div",We,t[10]||(t[10]=[l("div",null,null,-1),l("div",null,null,-1),l("div",null,null,-1)]),512),l("div",Ze,t[11]||(t[11]=[l("div",null,null,-1),l("div",null,null,-1),l("div",null,null,-1)]),512)],512),o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[12]||(t[12]=[$("Bifocal")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtOdUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("od-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtOdDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("od-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtOeUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("oe-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtOeDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("oe-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.centralizaQuadroTela},null,8,["onResize"])])}var Je=T(Ee,[["render",Ge],["__scopeId","data-v-a308240c"]]);const Ke={data(){return{dbPupilometro:$db.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&!this.somenteLeitura&&this.$emit("mudarTela","Bifocal")}},emits:["mudarTela"],methods:{desenha(){try{const e=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.tamanhoArmacaoPx/2-(e.olhoDireito.centroOlho.left-e.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(e.olhoEsquerdo.superior.left-e.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=e.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=e.olhoDireito.inferior.top-e.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=e.olhoEsquerdo.inferior.top-e.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=e.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=e.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=e.diagonal.p2.top+"px";let t=e.diagonal.p2.left-e.diagonal.p1.left;t=Math.asin(t/e.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform=`rotate(${t}deg)`,this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform=`rotate(-${t}deg)`;const r=this.$refs.quadro;let a=`scale(${this.zoom.toFixed(2)})`;r.style.transform=a}catch(e){console.log(e)}},redimensiona(){const e=this.$refs.quadro;e.style.position="absolute";const t={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight};if(JSON.stringify(this.tela)!==JSON.stringify(t)){this.tela=t;const r=document.body.clientWidth-20,a=window.innerHeight-60-20;r>a?this.zoom=a/1200:this.zoom=r/1200}e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},centralizaQuadroTela(){const e=this.$refs.quadro;e.style.position="absolute",e.style.top=(window.innerHeight-1200)/2+"px",e.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},btBifocal(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.$emit("mudarTela","Contato")},btAnterior(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")}},props:{somenteLeitura:Boolean},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},je={id:"telaMedidas"},to={ref:"quadro",class:"Quadro"},eo=["src"],oo={ref:"ods",id:"ods"},so={ref:"odi",id:"odi"},io={ref:"odc",id:"odc"},ro={ref:"oei",id:"oei"},lo={ref:"oes",id:"oes"},ao={ref:"oec",id:"oec"},no={ref:"tamanhoarmacao",id:"tamanhoarmacao"},uo={ref:"ponte",id:"ponte"},po={ref:"diptotal",id:"diptotal"},mo={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},ho={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},fo={ref:"odaltura",id:"odaltura"},co={ref:"oealtura",id:"oealtura"},yo={ref:"odbifocal",id:"odbifocal"},vo={ref:"oebifocal",id:"oebifocal"},go={ref:"oddiagonal",id:"oddiagonal",class:"medidaVerticalAzul"};function xo(e,t,r,a,i,s){return y(),g("div",je,[l("div",to,[u(l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,eo),[[A,s.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),l("div",oo,null,512),l("div",so,null,512),l("div",io,null,512),l("div",ro,null,512),l("div",lo,null,512),l("div",ao,null,512),l("div",no,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.tamanhoArmacao,2)),1),t[7]||(t[7]=l("div",null,null,-1)),t[8]||(t[8]=l("div",null,null,-1))],512),l("div",uo,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.ponte,2)),1),t[9]||(t[9]=l("div",null,null,-1)),t[10]||(t[10]=l("div",null,null,-1))],512),l("div",po,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dip.total,2)),1),t[11]||(t[11]=l("div",null,null,-1)),t[12]||(t[12]=l("div",null,null,-1))],512),l("div",mo,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dnp.od,2)),1),t[13]||(t[13]=l("div",null,null,-1)),t[14]||(t[14]=l("div",null,null,-1))],512),l("div",ho,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dnp.oe,2)),1),t[15]||(t[15]=l("div",null,null,-1)),t[16]||(t[16]=l("div",null,null,-1))],512),l("div",fo,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dip.od.altura,2)),1),t[17]||(t[17]=l("div",null,null,-1)),t[18]||(t[18]=l("div",null,null,-1))],512),l("div",co,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dip.oe.altura,2)),1),t[19]||(t[19]=l("div",null,null,-1)),t[20]||(t[20]=l("div",null,null,-1))],512),u(l("div",yo,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.bifocalOlhoDireito,2)),1),t[21]||(t[21]=l("div",null,null,-1)),t[22]||(t[22]=l("div",null,null,-1))],512),[[b,i.dbPupilometro.medidas.bifocal]]),u(l("div",vo,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.bifocalOlhoEsquerdo,2)),1),t[23]||(t[23]=l("div",null,null,-1)),t[24]||(t[24]=l("div",null,null,-1))],512),[[b,i.dbPupilometro.medidas.bifocal]]),l("div",go,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.diagonal.distancia,2)),1),t[25]||(t[25]=l("div",null,null,-1)),t[26]||(t[26]=l("div",null,null,-1))],512)],512),o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[u(o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""},null,512),[[b,!r.somenteLeitura]]),o(B,null,{default:d(()=>t[27]||(t[27]=[$("Medidas")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bifocal",label:"Bifocal",color:"primary",onClick:s.btBifocal,onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,8,["onClick"]),[[b,!r.somenteLeitura]]),o(O,{onResize:s.centralizaQuadroTela},null,8,["onResize"])])}var bo=T(Ke,[["render",xo],["__scopeId","data-v-dd935310"]]);const wo={data(){return{dbPupilometro:$db.pupilometro}},emits:["mudarTela"],methods:{btProximo(){this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Medidas")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")}}};function $o(e,t,r,a,i,s){return y(),g("div",null,[o(k,{class:"bg-gradiente q-px-sm"},{default:d(()=>[o(n,{onClick:t[0]||(t[0]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[3]||(t[3]=[$("Palpebra")])),_:1}),o(n,{onClick:t[1]||(t[1]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[2]||(t[2]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),l("pre",null,C(JSON.stringify(i.dbPupilometro.medidas,null,2)),1)])}var zo=T(wo,[["render",$o]]);const Fo={data(){return{dbPupilometro:$db.pupilometro,imagemBranco:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",fotoFator:1,zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela"],methods:{touch(e){const t=this.$refs.foto;let r=0;try{r=e.evt.touches.length}catch{}if(this.qtde=r,this.pinca.scaling||r!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(t.style.left=parseFloat(t.style.left)+e.delta.x+"px",t.style.top=parseFloat(t.style.top)+e.delta.y+"px"),!this.pinca.scaling&&r===2){const a=this.distancia;a.x1i=e.evt.touches[0].pageX,a.y1i=e.evt.touches[0].pageY,a.x2i=e.evt.touches[1].pageX,a.y2i=e.evt.touches[1].pageY,a.distanciaInicial=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.width=parseFloat(t.style.width),this.pinca.height=parseFloat(t.style.height),this.pinca.top=parseFloat(t.style.top),this.pinca.left=parseFloat(t.style.left),this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.pinca.scaling=!0,console.log("touchstart")}if(this.pinca.scaling&&r===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&r===2)try{const a=e.evt,i=Math.hypot(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY)-this.pinca.zoom,s=this.$refs.foto;s.style.width=this.pinca.width+i+"px",s.style.height=this.pinca.height+i*this.fotoFator+"px",s.style.top=this.pinca.top-i/2*this.fotoFator+"px",s.style.left=this.pinca.left-i/2+"px"}catch(a){console.log(a)}},zoomMais(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)+2+"px",e.style.height=parseFloat(e.style.height)+2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)-1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)-1+"px"},zoomMenos(){const e=this.$refs.foto;e.style.width=parseFloat(e.style.width)-2+"px",e.style.height=parseFloat(e.style.height)-2*this.fotoFator+"px",e.style.top=parseFloat(e.style.top)+1*this.fotoFator+"px",e.style.left=parseFloat(e.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},uploadClick(){this.$refs.Upload.click()},abrirFoto(e){const t=this.$refs.Upload.files;if(FileReader&&t&&t.length){var r=new FileReader;r.onload=()=>{this.dbPupilometro.fotoOriginal=r.result,this.mudaCentralizaFoto()},r.readAsDataURL(t[0])}},mudaCentralizaFoto(){const e=this.$refs.quadro,t={top:parseInt(e.style.top),left:parseInt(e.style.left),width:parseInt(e.style.width),height:parseInt(e.style.height)},r=this.$refs.foto,a=new Image,i=this;a.onload=()=>{let s=a.width,h=a.height,p=1.001;a.width>a.height?p=t.width/a.height:p=t.width/a.width,s=parseInt(s*p),h=parseInt(h*p),r.style.top=(t.height-h)/2+t.top+"px",r.style.left=(t.width-s)/2+t.left+"px",r.style.width=s+"px",r.style.height=h+"px",i.fotoFator=a.height/a.width},a.src=$db.pupilometro.fotoOriginal},btProximo(){if(this.dbPupilometro.fotoOriginal!==this.imagemBranco){const e=document.createElement("canvas"),t=e.getContext("2d"),r=this.$refs.foto;e.width=720,e.height=960;const a={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},i={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},s={left:i.left-a.left,top:i.top-a.top};t.drawImage(r,s.left/a.width*a.naturalWidth,s.top/a.height*a.naturalHeight,i.width/a.width*a.naturalWidth,i.height/a.height*a.naturalHeight,0,0,720,960),$db.pupilometro.foto=e.toDataURL()+"",$db.pupilometro.medidas.cartao.p1.left===0&&($db.pupilometro.medidas.cartao.p1.left=720/2-720/4,$db.pupilometro.medidas.cartao.p1.top=960/10*8,$db.pupilometro.medidas.cartao.p2.left=720/2+720/4,$db.pupilometro.medidas.cartao.p2.top=960/10*8),this.$emit("mudarTela","CartaoTamanho")}else $q.notifyAlert("Para prosseguir \xE9 necessario tirar uma foto")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},redimensiona(){const e=this.$refs.quadro,t=document.body.clientWidth-20,r=window.innerHeight-100-20;t>r?(e.style.height=r+"px",e.style.width=parseInt(parseInt(e.style.height)/4*3)+"px"):(e.style.width=t+"px",e.style.height=parseInt(parseInt(e.style.width)/3*4)+"px"),e.style.top=(window.innerHeight-parseInt(e.style.height)-20)/2+"px",e.style.left=(document.body.clientWidth-parseInt(e.style.width))/2+"px";const a=document.getElementsByClassName("rosto");for(const i of a)i.style.position="absolute",i.style.top=e.style.top,i.style.left=e.style.left,i.style.width=e.style.width,i.style.height=e.style.width}},mounted(){this.redimensiona()}},Co=["src"],qo={ref:"quadro",class:"quadro"},_o={class:"ZonaTouch"};function Po(e,t,r,a,i,s){return y(),g("div",null,[o(O,{onResize:s.redimensiona},null,8,["onResize"]),l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.fotoOriginal,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Co),l("div",qo,null,512),o(k,{class:"bg-primary text-white q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btFechar()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[11]||(t[11]=[$("Tratamento Foto")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),t[12]||(t[12]=l("div",null,[l("svg",{class:"rosto",viewBox:"0 0 300 420"},[l("path",{"stroke-width":"2",stroke:"rgb(200, 10, 10)",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"})])],-1)),o(n,{onClick:s.uploadClick,icon:"attachment",size:"md",color:"primary",round:"",class:"BtUpload"},null,8,["onClick"]),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),u(l("div",_o,null,512),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),t[13]||(t[13]=l("div",{class:"BaseBotoes"},null,-1)),u(o(n,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,s.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,s.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,s.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,s.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),l("input",{onChange:t[10]||(t[10]=(...h)=>s.abrirFoto&&s.abrirFoto(...h)),ref:"Upload",id:"Upload",type:"file",style:{visibility:"hidden"}},null,544)])}var ko=T(Fo,[["render",Po],["__scopeId","data-v-140b0f56"]]);const To={data(){return{dbPupilometro:$db.pupilometro,x:0,y:0,zoom:.87,pinca:{scaling:!1},cartao:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela"],methods:{desenha(){const e=$db.pupilometro.medidas;this.$refs.p1.style.top=e.cartao.p1.top+"px",this.$refs.p1.style.left=e.cartao.p1.left+"px",this.$refs.p2.style.top=e.cartao.p2.top+"px",this.$refs.p2.style.left=e.cartao.p2.left+"px";const t=this.$refs.quadro;let r=`scale(${this.zoom.toFixed(2)})`;t.style.transform=r,this.cartao.x1=e.cartao.p1.left,this.cartao.y1=e.cartao.p1.top,this.cartao.x2=e.cartao.p2.left,this.cartao.y2=e.cartao.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(e,t){let r=0;try{r=e.evt.touches.length}catch{}this.pinca.scaling||r!==2&&($db.pupilometro.medidas.cartao[t].top=$db.pupilometro.medidas.cartao[t].top+e.delta.y/this.zoom,$db.pupilometro.medidas.cartao[t].left=$db.pupilometro.medidas.cartao[t].left+e.delta.x/this.zoom,this.desenha())},touchP1(e){this.touchP(e,"p1")},touchP2(e){this.touchP(e,"p2")},btProximo(){this.$emit("mudarTela","CartaoOlho")},btAnterior(){this.$emit("mudarTela","CartaoFoto")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},moveu(e){e==="Bt1Up"&&($db.pupilometro.medidas.cartao.p1.top=$db.pupilometro.medidas.cartao.p1.top-1),e==="Bt1Down"&&($db.pupilometro.medidas.cartao.p1.top=$db.pupilometro.medidas.cartao.p1.top+1),e==="Bt1Left"&&($db.pupilometro.medidas.cartao.p1.left=$db.pupilometro.medidas.cartao.p1.left-1),e==="Bt1Right"&&($db.pupilometro.medidas.cartao.p1.left=$db.pupilometro.medidas.cartao.p1.left+1),e==="Bt2Up"&&($db.pupilometro.medidas.cartao.p2.top=$db.pupilometro.medidas.cartao.p2.top-1),e==="Bt2Down"&&($db.pupilometro.medidas.cartao.p2.top=$db.pupilometro.medidas.cartao.p2.top+1),e==="Bt2Left"&&($db.pupilometro.medidas.cartao.p2.left=$db.pupilometro.medidas.cartao.p2.left-1),e==="Bt2Right"&&($db.pupilometro.medidas.cartao.p2.left=$db.pupilometro.medidas.cartao.p2.left+1),this.desenha()},redimensiona(){const e=document.body.clientWidth-20,t=window.innerHeight-60-20,r=e>t?"horizontal":"vertical";this.zoom===.87&&(r==="horizontal"?this.zoom=t/960:this.zoom=e/720);const a=this.$refs.quadro;a.style.position="absolute",a.style.left=(document.body.clientWidth-720)/2+"px",r==="horizontal"?a.style.top=(60+(window.innerHeight-60-960))/2+"px":a.style.top=(window.innerHeight-108-960)/2+"px",this.desenha()}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="720px",this.$refs.quadro.style.height="960px";const e=this.$refs.quadro;this.$refs.svgCartao.style.position="absolute",this.$refs.svgCartao.style.top=0,this.$refs.svgCartao.style.left=0,this.$refs.svgCartao.style.width=e.style.width,this.$refs.svgCartao.style.height=e.style.height,this.redimensiona()}},Mo={ref:"quadro"},Ao=["src"],Bo={ref:"svgCartao",class:"svgCartao"},Do=["x1","y1","x2","y2"],Oo={ref:"p2",id:"p2",class:"text-primary"},Qo={ref:"p1",id:"p1",class:"text-primary"};function Lo(e,t,r,a,i,s){return y(),g("div",null,[l("div",Mo,[l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Ao),u((y(),g("svg",Bo,[l("line",{ref:"lnCartao",id:"lnCartao",stroke:"#0397ef","stroke-width":"5",x1:i.cartao.x1,y1:i.cartao.y1,x2:i.cartao.x2,y2:i.cartao.y2},null,8,Do)])),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),l("div",Oo,[u(o(S,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[A,s.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),l("div",Qo,[u(o(S,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[A,s.touchP1,void 0,{prevent:!0,mouse:!0}]])],512)],512),o(k,{class:"bg-primary text-white q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>t[14]||(t[14]=[$("Foto com Cart\xE3o")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[10]||(t[10]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[11]||(t[11]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[12]||(t[12]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[13]||(t[13]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.redimensiona},null,8,["onResize"])])}var Ro=T(To,[["render",Lo],["__scopeId","data-v-401e4270"]]);const So={data(){return{dbPupilometro:$db.pupilometro,passo:3,x:0,y:0,zoom:2,pinca:{scaling:!1}}},computed:{titulo(){const e=[];return e[3]="Centro Olho Direito",e[6]="Centro Olho Esquerdo",e[7]="Centro Nariz",e[this.passo]}},emits:["mudarTela"],methods:{sleep(e=0){return new Promise(t=>setTimeout(t,e))},desenha(){const e=this.$refs.quadro;let t=`scale(${this.zoom})`;this.passo===3&&(t+=" translateX(15%)"),this.passo===6&&(t+=" translateX(-15%)"),e.style.transform=t},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.pinca.scaling||t!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+e.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+e.delta.y/this.zoom+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.desenha()}catch{}},btProximo(){if(this.passo===3){this.passo=6,this.desenha();return}if(this.passo===6){parseFloat(this.$refs.p7.style.top)===0&&(this.$refs.p7.style.top=(parseFloat(this.$refs.p6.style.top)+parseFloat(this.$refs.p3.style.top))/2-50+"px",this.$refs.p7.style.left=(parseFloat(this.$refs.p6.style.left)+parseFloat(this.$refs.p3.style.left))/2+"px"),this.passo=7,this.desenha();return}this.passo===7&&($db.pupilometro.medidas.olhoDireito={...$db.pupilometro.medidas.olhoDireito,centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)}},$db.pupilometro.medidas.olhoEsquerdo={...$db.pupilometro.medidas.olhoEsquerdo,centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)}},$db.pupilometro.medidas.nariz={...$db.pupilometro.medidas.nariz,top:parseFloat(this.$refs.p7.style.top),left:parseFloat(this.$refs.p7.style.left)},$db.pupilometro.calcularDistanciasCartao(),this.$emit("mudarTela","CartaoMedidas"))},btAnterior(){if(this.passo===3){this.$emit("mudarTela","CartaoTamanho");return}if(this.passo===6){this.passo=3,this.desenha();return}this.passo===7&&(this.passo=6,this.desenha())},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")},moveu(e){const t=this.$refs["p"+this.passo];if(e==="up"){let r=parseFloat(t.style.top)-1;r<0&&(r=0),t.style.top=r+"px"}if(e==="down"&&(t.style.top=parseFloat(t.style.top)+1+"px"),e==="left"){let r=parseFloat(t.style.left)-1;r<0&&(r=0),t.style.left=r+"px"}e==="right"&&(t.style.left=parseFloat(t.style.left)+1+"px")},redimensiona(){const e=document.body.clientWidth-20,t=window.innerHeight-60-20;this.orientacao=e>t?"landscape":"portrait",this.orientacao==="landscape"?(this.zoom=e/720,this.zoom=this.zoom*1.6):(this.zoom=t/960,this.zoom=this.zoom*2);const r=this.$refs.quadro;r.style.position="absolute",r.style.left=(document.body.clientWidth-720)/2+"px",this.orientacao,r.style.top=(window.innerHeight-960/3*2)/2+"px",this.desenha()},tamanhoPonte(){const e=$db.pupilometro.medidas;this.$refs.p8.style.top="50px",this.$refs.p8.style.left=(e.ponte-1)/2*-1+"px",this.$refs.p8.style.width=e.ponte+"px"}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="720px",this.$refs.quadro.style.height="960px";const e=$db.pupilometro.medidas;this.$refs.p3.style.top=e.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.p6.style.top=e.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=e.olhoEsquerdo.centroOlho.left+"px",this.$refs.p7.style.top=e.nariz.top+"px",this.$refs.p7.style.left=e.nariz.left+"px",this.$refs.p8.style.top="50px",this.$refs.p8.style.left=(e.ponte-1)/2*-1+"px",this.$refs.p8.style.width=e.ponte+"px",this.redimensiona()}},Io={ref:"quadro"},Uo=["src"],Eo={ref:"p3",id:"p3"},Ho={ref:"p6",id:"p6"},Vo={ref:"p7",id:"p7"},Xo={ref:"p8",id:"p8"},Yo={class:"ZonaTouch"};function No(e,t,r,a,i,s){const h=z("campo");return y(),g("div",null,[l("div",Io,[l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Uo),u(l("div",Eo,null,512),[[b,i.passo===3]]),u(l("div",Ho,null,512),[[b,i.passo===6]]),u(l("div",Vo,[l("div",Xo,t[11]||(t[11]=[l("div",null,null,-1),l("div",null,null,-1)]),512)],512),[[b,i.passo===7]])],512),o(k,{class:"bg-primary text-white q-px-sm"},{default:d(()=>[o(n,{onClick:t[1]||(t[1]=p=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(B,null,{default:d(()=>[$(C(s.titulo),1)]),_:1}),u(o(h,{modelValue:i.dbPupilometro.medidas.ponte,"onUpdate:modelValue":[t[2]||(t[2]=p=>i.dbPupilometro.medidas.ponte=p),s.tamanhoPonte],tipo:"decimal",decimals:"2",suffix:"mm","rotulo-fixo":"Ponte",color:"white","label-color":"white",dark:"",dense:"",class:"q-mr-md",style:{"max-width":"90px"}},null,8,["modelValue","onUpdate:modelValue"]),[[b,i.passo===7]]),o(n,{onClick:t[3]||(t[3]=p=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[4]||(t[4]=p=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(l("div",Yo,null,512),[[A,s.touch,void 0,{prevent:!0,mouse:!0}]]),t[12]||(t[12]=l("div",{class:"BaseBotoes"},null,-1)),u(o(n,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",color:"primary",round:"",onContextmenu:t[7]||(t[7]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",color:"primary",round:"",onContextmenu:t[8]||(t[8]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",color:"primary",round:"",onContextmenu:t[9]||(t[9]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",color:"primary",round:"",onContextmenu:t[10]||(t[10]=m(()=>{},["prevent"]))},null,512),[[f,()=>s.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.redimensiona},null,8,["onResize"])])}var Wo=T(So,[["render",No],["__scopeId","data-v-e4fd0074"]]);const Zo={data(){return{dbPupilometro:$db.pupilometro,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},emits:["mudarTela"],props:{somenteLeitura:Boolean},methods:{desenha(){try{const e=$db.pupilometro.medidas;this.$refs.diptotal.style.top=e.olhoDireito.centroOlho.top-70+"px",this.$refs.diptotal.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=e.olhoEsquerdo.centroOlho.left-e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=e.olhoDireito.centroOlho.top-30+"px",this.$refs.dnpOd.style.left=e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=e.nariz.left-e.olhoDireito.centroOlho.left+"px",this.$refs.dnpOe.style.top=e.olhoEsquerdo.centroOlho.top-30+"px",this.$refs.dnpOe.style.left=e.nariz.left+"px",this.$refs.dnpOe.style.width=e.olhoEsquerdo.centroOlho.left-e.nariz.left+"px",this.$refs.nariz.style.top=e.nariz.top+"px",this.$refs.nariz.style.left=e.nariz.left-1+"px",this.$refs.ponte.style.top="50px",this.$refs.ponte.style.left=(e.ponte-1)/2*-1+"px",this.$refs.ponte.style.width=e.ponte+"px";const t=this.$refs.quadro;let r=`scale(${this.zoom.toFixed(2)})`;t.style.transform=r}catch(e){console.log(e)}},redimensiona(){const e={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight},t=document.body.clientWidth-20,r=window.innerHeight-60-20,a=t>r?"horizontal":"vertical";JSON.stringify(this.tela)!==JSON.stringify(e)&&(this.tela=e,a==="horizontal"?this.zoom=r/720*1.2:this.zoom=t/(960/3));const i=this.$refs.quadro;i.style.position="absolute",i.style.left=(document.body.clientWidth-720)/2+"px",a==="horizontal"?i.style.top=(window.innerHeight-960)/2+"px":i.style.top=(window.innerHeight-920)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},touch(e){let t=0;try{t=e.evt.touches.length}catch{}if(this.qtde=t,this.pinca.scaling||t!==2&&Math.abs(e.delta.x+e.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+e.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+e.delta.y+"px"),!this.pinca.scaling&&t===2&&(this.pinca.zoom=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&t===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&t===2)try{const r=Math.hypot(e.evt.touches[0].pageX-e.evt.touches[1].pageX,e.evt.touches[0].pageY-e.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+r/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},btProximo(){this.$emit("mudarTela","Contato")},btAnterior(){this.$emit("mudarTela","CartaoOlho")},async btFechar(){!await $q.dialogSimNao({title:"Fechar pupil\xF4metro",message:"Ao continuar voc\xEA ir\xE1 perder os dados inseridos."})||this.$emit("mudarTela","Fim")}},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},Go={ref:"quadro",class:"Quadro"},Jo=["src"],Ko={ref:"odc",id:"odc"},jo={ref:"oec",id:"oec"},ts={ref:"diptotal",id:"diptotal"},es={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},os={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},ss={ref:"nariz",id:"nariz"},is={ref:"ponte",id:"ponte"};function rs(e,t,r,a,i,s){return y(),g("div",null,[l("div",Go,[u(l("img",{ref:"foto",class:"Foto",src:i.dbPupilometro.foto,onContextmenu:t[0]||(t[0]=m(()=>{},["prevent"]))},null,40,Jo),[[A,s.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),l("div",Ko,null,512),l("div",jo,null,512),l("div",ts,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dip.total,2)),1),t[6]||(t[6]=l("div",null,null,-1)),t[7]||(t[7]=l("div",null,null,-1))],512),l("div",es,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dnp.od,2)),1),t[8]||(t[8]=l("div",null,null,-1)),t[9]||(t[9]=l("div",null,null,-1))],512),l("div",os,[l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.dnp.oe,2)),1),t[10]||(t[10]=l("div",null,null,-1)),t[11]||(t[11]=l("div",null,null,-1))],512),l("div",ss,[l("div",is,[t[12]||(t[12]=l("div",null,null,-1)),t[13]||(t[13]=l("div",null,null,-1)),l("div",null,C(e.$filters.numero(i.dbPupilometro.medidas.ponte,2)),1)],512)],512)],512),o(k,{class:"bg-primary text-white q-px-sm"},{default:d(()=>[u(o(n,{onClick:t[1]||(t[1]=h=>s.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""},null,512),[[b,!r.somenteLeitura]]),o(B,null,{default:d(()=>t[14]||(t[14]=[$("Medidas")])),_:1}),o(n,{onClick:t[2]||(t[2]=h=>s.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(n,{onClick:t[3]||(t[3]=h=>s.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),u(o(n,{class:"ZoomMais",icon:"zoom_in",size:"md",color:"primary",round:"",onContextmenu:t[4]||(t[4]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),u(o(n,{class:"ZoomMenos",icon:"zoom_out",size:"md",color:"primary",round:"",onContextmenu:t[5]||(t[5]=m(()=>{},["prevent"]))},null,512),[[f,s.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),o(O,{onResize:s.redimensiona},null,8,["onResize"])])}var ls=T(Zo,[["render",rs],["__scopeId","data-v-48344841"]]);const as={components:{TirarFoto:oe,TamanhoFoto:fe,TamanhoArmacao:ge,Olho:Me,Diagonal:Ue,Bifocal:Je,Medidas:bo,Palpebra:zo,CartaoFoto:ko,CartaoTamanho:Ro,CartaoOlho:Wo,CartaoMedidas:ls},data(){return{tela:""}},emits:["fecharModal"],props:{pupilometro:{default:()=>({}),required:!0,type:Object}},methods:{async mudarTela(e){if(e==="Fim"){this.$emit("fecharModal","fechar");return}if(e==="Contato"){this.$emit("fecharModal","abrirContato");return}this.tela=e,e==="Olho"&&(await new Promise(t=>setTimeout(t,500)),this.$refs.Olho.desenha()),e==="Medidas"&&(await new Promise(t=>setTimeout(t,500)),this.$refs.Medidas.desenha())},upload(){this.$refs.TamanhoFoto.uploadClick()},cartaoNovo(){this.$refs.CartaoFoto.uploadClick()}},created(){this.tela=this.pupilometro.avancar||"TirarFoto",history.pushState(null,null,location.href),history.go(1)}},ns={id:"Pupilometro"};function ds(e,t,r,a,i,s){const h=z("tirar-foto"),p=z("tamanho-foto"),v=z("tamanho-armacao"),w=z("olho"),c=z("diagonal"),q=z("bifocal"),F=z("medidas"),_=z("palpebra"),L=z("cartao-foto"),V=z("cartao-tamanho"),j=z("cartao-olho"),tt=z("cartao-medidas");return y(),g("div",ns,[o(K,{modelValue:r.pupilometro.visivel,"onUpdate:modelValue":t[0]||(t[0]=et=>r.pupilometro.visivel=et),maximized:"",persistent:"",class:"bg-dark-page"},{default:d(()=>[o(ut,null,{default:d(()=>[e.$db.pupilometro.medidas.tipo!=="Cart\xE3o"?(y(),g(H,{key:0},[i.tela==="TirarFoto"?(y(),D(h,{key:0,onMudarTela:s.mudarTela,onUpload:s.upload},null,8,["onMudarTela","onUpload"])):M("",!0),u(o(p,{ref:"TamanhoFoto",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="TamanhoFoto"]]),u(o(v,{ref:"TamanhoArmacao",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="TamanhoArmacao"]]),u(o(w,{ref:"Olho",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="Olho"]]),u(o(c,{onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="Diagonal"]]),u(o(q,{onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="Bifocal"]]),u(o(F,{ref:"Medidas",somenteLeitura:r.pupilometro.somenteLeitura,onMudarTela:s.mudarTela},null,8,["somenteLeitura","onMudarTela"]),[[b,i.tela==="Medidas"]]),u(o(_,{ref:"Palpebra",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="Palpebra"]])],64)):M("",!0),e.$db.pupilometro.medidas.tipo==="Cart\xE3o"?(y(),g(H,{key:1},[u(o(L,{ref:"CartaoFoto",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="CartaoFoto"]]),u(o(V,{ref:"CartaoTamanho",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="CartaoTamanho"]]),u(o(j,{ref:"CartaoOlho",onMudarTela:s.mudarTela},null,8,["onMudarTela"]),[[b,i.tela==="CartaoOlho"]]),u(o(tt,{ref:"CartaoMedidas",somenteLeitura:r.pupilometro.somenteLeitura,onMudarTela:s.mudarTela},null,8,["somenteLeitura","onMudarTela"]),[[b,i.tela==="CartaoMedidas"]])],64)):M("",!0)]),_:1})]),_:1},8,["modelValue"])])}var us=T(as,[["render",ds]]);const ps={ratio:[String,Number]};function ms(e,t){return E(()=>{const r=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(r)!==!0&&r>0?{paddingBottom:`${100/r}%`}:null})}const hs=1.7778;var wt=Bt({name:"QImg",props:{...ps,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:hs},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:r}){const a=Y(e.initialRatio),i=ms(e,a),s=It(),{registerTimeout:h,removeTimeout:p}=gt(),{registerTimeout:v,removeTimeout:w}=gt(),c=E(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),q=E(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),F=[Y(null),Y(c.value)],_=Y(0),L=Y(!1),V=Y(!1),j=E(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),tt=E(()=>({width:e.width,height:e.height})),et=E(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),zt=E(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function Ft(){if(w(),e.loadingShowDelay===0){L.value=!0;return}v(()=>{L.value=!0},e.loadingShowDelay)}function ot(){w(),L.value=!1}function Ct({target:x}){rt(s)===!1&&(p(),a.value=x.naturalHeight===0?.5:x.naturalWidth/x.naturalHeight,ct(x,1))}function ct(x,U){U===1e3||rt(s)===!0||(x.complete===!0?qt(x):h(()=>{ct(x,U+1)},50))}function qt(x){rt(s)!==!0&&(_.value=_.value^1,F[_.value].value=null,ot(),x.getAttribute("__qerror")!=="true"&&(V.value=!1),r("load",x.currentSrc||x.src))}function _t(x){p(),ot(),V.value=!0,F[_.value].value=q.value,F[_.value^1].value=c.value,r("error",x)}function yt(x){const U=F[x].value,W={key:"img_"+x,class:et.value,style:zt.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...U};return _.value===x?Object.assign(W,{class:W.class+"current",onLoad:Ct,onError:_t}):W.class+="loaded",I("div",{class:"q-img__container absolute-full",key:"img"+x},I("img",W))}function Pt(){return L.value===!1?I("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Lt(t[V.value===!0?"error":"default"])):I("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[I(Rt,{color:e.spinnerColor,size:e.spinnerSize})])}{let x=function(){St(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,U=>{p(),V.value=!1,U===null?(ot(),F[_.value^1].value=c.value):Ft(),F[_.value].value=U},{immediate:!0})};Dt.value===!0?Ot(x):x()}return()=>{const x=[];return i.value!==null&&x.push(I("div",{key:"filler",style:i.value})),F[0].value!==null&&x.push(yt(0)),F[1].value!==null&&x.push(yt(1)),x.push(I(Qt,{name:"q-transition--fade"},Pt)),I("div",{key:"main",class:j.value,style:tt.value,role:"img","aria-label":e.alt},x)}}});const fs={data(){return{tela:{},lista:[],modalArquivo:{visivel:!1,nome:"",arquivo:""}}},props:{galeria:{required:!0,type:Object}},methods:{async atualizar(){this.lista=this.galeria.lista||[]},async openImage(e){$tryLoading(async()=>{const t=await $db.arquivo.le(e),r=URL.createObjectURL(t);this.modalArquivo={visivel:!0,nome:e.nome,arquivo:r}})},resize(){this.tela={header:$utils.tela("galeriaHeader").height}}},async mounted(){await this.atualizar()}},cs={id:"Galeria"};function ys(e,t,r,a,i,s){const h=z("toolbarMain"),p=z("g-col"),v=z("g-row");return y(),g("div",cs,[o(K,{modelValue:r.galeria.visivel,"onUpdate:modelValue":t[1]||(t[1]=w=>r.galeria.visivel=w),onHide:t[2]||(t[2]=w=>e.fechar()),maximized:"",persistent:"",class:"bg-dark-page"},{default:d(()=>[o(ut,{container:"",view:"hHh LpR fFf"},{default:d(()=>[o(O,{onResize:t[0]||(t[0]=w=>s.resize())}),o(pt,{id:"galeriaHeader"},{default:d(()=>[o(h,{class:"bg-dark"}),o(k,{class:"bg-gradiente"},{default:d(()=>[u(o(n,{icon:"arrow_back",flat:"",round:""},null,512),[[N]]),o(B,null,{default:d(()=>t[4]||(t[4]=[$("Galeria")])),_:1})]),_:1})]),_:1}),o(mt,null,{default:d(()=>[o(ht,{class:"g-container",style:ft(`
            min-height:calc(100vh - ${i.tela.header+i.tela.footer}px);
            max-height:calc(100vh - ${i.tela.header+i.tela.footer}px);
          `)},{default:d(()=>[o(v,{gutter:"md",items:"center",justify:"center"},{default:d(()=>[(y(!0),g(H,null,J(i.lista,(w,c)=>(y(),D(p,{col:"12 sm4",key:c},{default:d(()=>[o(wt,{onClick:q=>s.openImage(w),src:w.arquivo,fit:"",style:{cursor:"pointer"}},null,8,["onClick","src"])]),_:2},1024))),128))]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(K,{modelValue:i.modalArquivo.visivel,"onUpdate:modelValue":t[3]||(t[3]=w=>i.modalArquivo.visivel=w),maximized:"",persistent:"",class:"bg-dark-page"},{default:d(()=>[o(ut,{container:"",view:"hHh LpR fFf"},{default:d(()=>[o(pt,null,{default:d(()=>[o(k,{class:"bg-gradiente"},{default:d(()=>[u(o(n,{icon:"arrow_back",flat:"",round:""},null,512),[[N]]),o(B,null,{default:d(()=>[$(C(i.modalArquivo.nome),1)]),_:1})]),_:1})]),_:1}),o(mt,null,{default:d(()=>[o(ht,{style:{"min-height":"calc(100vh - 50px)","max-height":"calc(100vh - 50px)"}},{default:d(()=>[o(v,{items:"center",justify:"center",width:"100%",height:"100%",style:{position:"absolute"}},{default:d(()=>[o(p,{col:"12 sm9 md7 lg6"},{default:d(()=>[o(wt,{src:i.modalArquivo.arquivo,fit:""},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var vs=T(fs,[["render",ys]]);const gs={components:{Pupilometro:us,Visagismo:Nt,Galeria:vs},data(){return{tela:{},rota:"Contato",dadosIndex:0,dados:{id:null,nome:"",telefone:"",foto:"",fotoOriginal:"",rosto:1,armacao:1,cor:1},contatoOriginal:{},contato:{visivel:!1,tab:"nome",tabs:["nome","telefone","rota"]},maskTelefone:"(##) #####-####",pupilometro:{visivel:!1,somenteLeitura:!1,avancar:"TirarFoto"},rostos:{1:{tipo:"Redondo",armacoes:[1,2,3,4],svg:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},2:{tipo:"Quadrado",armacoes:[5,6,7,8],svg:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},3:{tipo:"Cora\xE7\xE3o",armacoes:[9,10,11,1],svg:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},4:{tipo:"Triangular",armacoes:[2,3,4,5],svg:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},5:{tipo:"Oval",armacoes:[5,6,7,8],svg:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"}},armacoes:{1:"M385.2 35.1c-36.8 8.7-55.9 9.7-85.3 9.7s-48.4-.9-85.2-9.7S74.1 28.7 27.8 63.2v31.7s11.8-1.4 18.3 28.5 19.3 80.4 57 88.8c44.3 9.9 96.9 11 129.5-8.3 33.8-20 38.5-59.8 43.6-79.6s5.4-34 23.8-34 18.7 14.3 23.8 34 9.7 59.8 43.6 79.6c27.8 16.2 81.1 16.2 129.5 8.3 38.1-6.2 50.6-58.9 57-88.8s18.4-28.5 18.4-28.5V63.2C526.2 28.7 422 26.4 385.2 35.1zm-141.9 138c-16.1 27.6-44.6 42.8-95.2 37.3s-59.8-19.3-72.7-40.9-20.2-80-12-99.8c8.3-19.8 69.5-24.4 98-24.8 29-.5 77.7 4.1 96.1 26.2 18.4 22 1.9 74.4-14.2 102zm281-3.6c-11 28.8-55.7 41.3-87.8 39.8-43.8-2.1-59.2-4.6-80.7-32.6-19.4-25.4-32.1-83.5-13.7-105.6s67.2-26.7 96.1-26.2c28.5.5 89.7 5.1 98 24.8 8.4 19.7-2.9 76.2-11.9 99.8z",2:"M351.6 47.3c-16.2 5.3-35.3 12.9-51.6 12.9-16.3 0-35.4-7.6-51.6-12.9-43.7-14.4-153.9-23.7-223.6-1.4l2.1 38.6s12.7-2.8 16.9 11.2c4.2 13.9 13.9 71.4 31.7 93.9 22.1 27.9 69.6 29 101.7 27.6 43.3-1.9 71.6-21.1 83.7-53.6s18.9-60.4 26.6-69.3c4.2-4.8 8.9-5.1 12.6-5.1s8.4.3 12.6 5.1c7.7 8.8 14.6 36.7 26.6 69.3 12.1 32.5 40.4 51.7 83.7 53.6 32.1 1.4 79.6.3 101.7-27.6 17.8-22.5 27.5-79.9 31.7-93.9 4.2-13.9 16.9-11.2 16.9-11.2l2.1-38.6c-70-22.3-180.1-13-223.8 1.4zM37.7 64c0-2.7 7-5 15.6-5s15.6 2.2 15.6 5-7 5-15.6 5-15.6-2.2-15.6-5zm203.7 99.5c-11.6 21.8-31.1 33-60.4 36.7s-64.3-2-82-12.6c-15.5-9.3-23.1-38.6-26.8-56.2-3.7-17.7-10.2-55.8 7.9-68.3s63.7-13.5 93.9-11.6c22.8 1.4 72 7.4 81.3 25.1 9.4 17.6-4.5 69.2-13.9 86.9zm286.4-32.1c-3.7 17.7-11.3 47-26.8 56.2-17.7 10.5-52.7 16.3-82 12.6s-48.8-14.9-60.4-36.7c-9.4-17.7-23.2-69.3-13.9-86.9s58.6-23.7 81.3-25.1c30.2-1.9 75.8-.9 93.9 11.6 18.1 12.5 11.6 50.7 7.9 68.3zM546.7 69c-8.6 0-15.6-2.2-15.6-5s7-5 15.6-5 15.6 2.2 15.6 5-7 5-15.6 5z",3:"M583.8 97.7h-6.6c-2.2-18.5-9.8-33.2-10.3-34-16.2-24.5-35.7-36.5-57.3-42.4-20.1-5.6-42-6-64.5-6.3l-8.5-.1c-1.4 0-2.9-.1-4.3-.1-6.7 0-13.2.9-19.4.9H184.6c-7.7 0-15.9-1.1-24.5-.9l-8.5.1c-46.5.8-90.4 1.3-121.7 48.7-.5.8-8.1 15.5-10.3 34.1h-3.4v.1H13v14.9h6.1c.1 3.5.3 6.7.6 9.8.7 6.9 2 13.2 4.2 20.8 14.2 48.5 42.2 80.1 78.9 88.1 10.8 2.4 19.9 3.9 28.7 3.9 33.6 0 63.4-15.8 96.8-53.1 32.9-36.7 41.8-77 39.4-103.1H329c-2.4 26.1 6.6 66.3 39.4 103 33.4 37.3 63.2 53.1 96.8 53.1 8.8 0 17.9-1.5 28.7-3.9 36.7-8 64.7-39.6 78.9-88.1 1.6-5.6 2.8-10.5 3.6-15.5.8-4.7 1.2-9.5 1.3-15h2.9v-.1h3.2V97.7zM339.7 44.4c-2.4 2.7-4.6 6-6.3 10.6-.6 1.6-1.2 3.4-1.8 5.4h-66.4c-2-7.5-4.8-12.3-8.1-16-6.8-7.7-19.2-15.3-35.8-21 17.7-.4 35.6 3.1 38.9 6.9 3.6 4.1 35.2 3.8 35.2 3.8s4.7 0 10.7-.1c8.9-.1 27.8-.7 30.5-3.8 3.1-3.5 18.4-6.7 34.6-6.9 1.6 0 3.2 0 4.8.1-3.8 1.3-7.4 2.7-10.8 4.2-11.4 4.9-20.2 10.8-25.5 16.8zM38.5 139.2c-11.8-40.4 4.1-67 4.4-67.1C69.6 31.6 106 31 152.1 30.2l8.6-.2h4c43.6 0 72.6 14.8 81.4 24.7.8.8 1.5 2 2.2 3.4 7.7 16.2 11 65.2-31.1 112.1-38.8 43.4-66.1 48.7-85.6 48.7-7.7 0-15.8-.8-25.6-2.9-15.5-3.4-29.3-11.8-40.7-24.7-11.5-13-20.6-30.6-26.8-52.1zm452.3 77c-9.8 2.1-17.9 2.9-25.6 2.9-19.5 0-46.8-5.3-85.6-48.7-46.3-51.6-37.7-105.7-28.7-116 1.1-1.2 2.5-2.5 4.2-3.9.2-.2.5-.4.7-.6.2-.1.3-.2.5-.4 12.7-9.2 39-19.7 75.8-19.7H436.4l8.6.2c27.3.5 51.2.9 71.8 9.7.3.1.6.3.9.4l.6.3c13.4 6 25.2 15.8 35.7 31.6.3.1 16.2 26.7 4.4 67.1-9.4 32.2-25.2 55.8-45.7 68.4-6.9 4.1-14.2 7-21.9 8.7z",4:"M193.9 11.2c.8-.7-3.1-1.3 0 0zM572.5 112.7l-.3-22.2h-12.5c-4.1-27.1-12.1-51.8-41.8-64.2-7-3-15.2-5.3-24.9-6.8-28.7-4.4-54.4-6.7-76.3-7.3H406c-6.5-.1-8.7-.5-9.2-.9-.4.1-.8.3-1.4.5-5.6-.4-6.5-.9-10.8.2-9.5.4-24 1.5-29.6 1.3-.5-.1-.9-.1-1.2-.2-2.9-.9-12.6-1.3-23.4-1.4h-7.6c-12.4 0-24.4.2-27.5.3-3-.1-15-.3-27.5-.3h-7.6c-10.8.1-20.5.5-23.4 1.4-.3.1-.7.2-1.2.2-5.6.2-20.1-.9-29.6-1.3-4.2-1.1-5.1-.7-10.8-.2-.6-.2-1-.4-1.4-.5-.5.4-2.7.8-9.2.9H173.9c-22 .5-47.6 2.9-76.3 7.3-9.6 1.5-17.8 3.8-24.8 6.8C43.1 38.7 35.1 63.4 31 90.5H18.5l-.3 22.2h9.7c-3.1 40.9 17.1 75.5 18 77.1l.3 1c18.5 25.3 62.9 43.6 87.9 46.7 4.5.5 8.3 1.7 11.9 1.7 22.4 0 42.5-12.1 74.3-42.3 5.7-5.5 10.9-11.9 15.5-18.8 5.3-7.6 9.8-15.9 13.6-24.6 1.1-.2 2.3-.5 3.4-1.1 5.5-3.2 22.2-44.8 25.9-53.6 2.4-5.8 7.3-6.9 11.6-7.1 1.5 0 2.9.2 4 .2h2c1.1 0 2.5-.1 4-.2 4.3.1 9.2 1.3 11.6 7.1 3.7 8.8 20.4 50.4 25.9 53.6 1.1.6 2.3.9 3.4 1.1 3.8 8.7 8.4 17 13.6 24.6 4.6 6.9 9.8 13.3 15.5 18.8 31.8 30.2 51.9 42.3 74.3 42.3 3.6 0 7.4-1.2 11.9-1.7 25-3.1 69.4-21.4 87.9-46.7l.3-1c.9-1.6 21.1-36.2 18-77.1h9.8zM454.9 224.6c-4 .5-7.4-.2-10.5-.2-16.2 0-33-5.5-66.5-37.4-32-30.3-44.9-87.8-41.7-124.8.6-6.7 1.8-12.7 3.4-17.7 4.6-13.7 27.9-21 67.6-21 23.3 0 51.6 2.5 84 7.4 50.7 7.7 54.6 38.8 59.5 78.1l.2 1.2c4.4 35.5-14.2 70.6-16 73.9-2.8 3.8-6.4 7.4-10.5 10.9-19.6 16.4-51 27.4-69.5 29.6zM55.7 184.1c-1.8-3.3-20.4-38.4-16-73.9l.2-1.2c4.9-39.3 8.8-70.4 59.5-78.1 32.4-4.9 60.7-7.4 84-7.4 39.7 0 63 7.3 67.6 21 1.7 5 2.8 11 3.4 17.7 3.2 37-9.7 94.5-41.7 124.8-33.5 31.9-50.3 37.4-66.5 37.4-3.1 0-6.5.7-10.5.2-18.5-2.2-49.9-13.2-69.6-29.6-4-3.5-7.6-7.1-10.4-10.9zM396.8 11.2c3-1.3-.8-.7 0 0z",5:"M466.8 44c-7.8.4-22.5 1.4-39.4 4-13.7 1.6-27.9 4.5-41.1 9-20.3 6.2-38.6 15.4-47.7 28.7-11-5.2-29.3-9.8-38.1-9.8-9.1 0-28.1 4.8-39 10.2-11.9-18-40.6-28.4-68.4-34.4-3.9-.9-7.7-1.6-11.6-2.3-20.6-3.6-39.3-5-48.4-5.4C108.2 42.8 32 31.7 30.3 39.4c-1.7 7.7-4.3 21.1-1 24.4s15 40.9 17.2 45.9c.9 2 3.7 3.3 6.8 4 .2 1.4.4 2.8.6 4.1.2 1.6.5 3.1.6 4.6.1 2.8 1.3 28.8 6.3 36.8.4.7 1 2 1.7 3.6 6 13.9 22.1 50.9 94.2 54.1 2 .1 3.9.1 5.8.1 78.9 0 100.8-70.2 102.4-89.4.4-4.5.4-8 .2-11.6h4.6l-3.5-19.7c-.3-1.3-.8-1.9-1.3-5.5h70.4c-.5 3.6-.9 4.2-1.3 5.5l-3.5 19.7h3c-.2 3.6-.2 7.1.2 11.6 1.5 19.1 23.5 90 102.4 90 1.9 0 3.8-.3 5.8-.4C514 214 530 176.9 536 162.9c.7-1.6 1.3-3 1.7-3.7 5-8.1 6.2-34 6.3-36.9.1-1.4.3-3 .6-4.6.2-1.2.4-2.5.5-3.8 3.6-.8 7.3-2.1 8.3-4.4 2.2-5 13.8-42.6 17.1-45.9 3.3-3.3.7-21.9-.9-29.6-1.6-7.5-77.9 8.8-102.8 10zm-209.2 82c-1.5 18.2-22.9 87.2-100.7 83.8-67.5-3-82.3-37-87.8-49.8-.8-1.9-1.5-3.4-2.2-4.5-3-4.9-4.8-23.1-5.2-33.5-.1-1.7-.4-3.4-.6-5.2-.1-.6-.2-1.2-.3-1.9 1.3.1 2.2.1 2.2.1.2-26.9 26.6-44.9 52.9-49.6 39.8-7.2 100.6-1.3 128.3 24.2 7.7 7 12.5 20.3 13.6 23.4.2 4.2.2 8.5-.2 13zm279.8-9.1c-.3 1.8-.5 3.5-.6 5.2-.4 10.3-2.2 28.6-5.2 33.5-.7 1.1-1.3 2.6-2.2 4.5-5.6 12.8-20.3 46.8-87.8 49.8-77.8 3.3-99.2-64.4-100.7-82.6-.3-4.2-.4-7.4-.2-11h1.3S347.1 99 355.8 91c27.6-25.4 88.5-32 128.3-24.8 26.3 4.7 52.7 22.4 52.9 49.3 0 0 .2-.2.7-.2-.1.6-.2 1-.3 1.6z",6:"M35.6 175.2c13.7 5.8 138.2 32.4 191.5 10.8 53.3-21.6 24.3-74.2 67.5-72.8 43.2-1.5 14.2 51.2 67.5 72.8 53.3 21.6 177.7-5 191.4-10.8 13.7-5.8 13-36.7 17.3-46.1 4.3-9.4 23.7-15.8 23.7-15.8V63.5c-28.4-13.7-172.3-6.5-206.9 0-34.6 6.5-91 19.5-91 19.5s-54-13-88.6-19.5C173.4 57 25.8 49.8 5.5 63.5v49.7s14 6.5 18.3 15.8c4.3 9.4-1.9 40.4 11.8 46.2zm299.5-84c10.7-8.4 82.4-29.7 195.8-20.8 6.3.5 20.3 4.8 20.8 14s.5 58.5-2.5 65.3c-3.1 6.9-4.8 22.1-68.1 30.8s-116.4 1.8-130.2-16.5c-13.8-18.4-26.5-64.4-15.8-72.8zM37.6 84.4c.5-9.2 14.6-13.5 20.8-14 113.4-8.9 185.1 12.5 195.8 20.8 10.7 8.4-2 54.4-15.8 72.7-13.7 18.3-66.9 25.2-130.2 16.5-63.3-8.6-65.1-23.9-68.1-30.8-3-6.8-3-56.1-2.5-65.2z",7:"M84.8 178.6s39 32.7 87.3 30.7c0 0 54.4 1.5 84.4-37.6 0 0 13.7-20.9 23.4-46.8 0 0 1.5-12 20-12.5 18.5.5 20 12.5 20 12.5 9.8 25.9 23.4 46.8 23.4 46.8 30 39 84.5 37.6 84.5 37.6 48.3 2 87.4-30.7 87.4-30.7 60.8-49.3 57-109.8 57-109.8 1.5-34.5-76.3-27.8-76.3-27.8-75.2-1.2-162.3 38.2-162.3 38.2-12.3 6.6-32.3 7.1-33.6 7.1-1.3 0-21.3-.5-33.6-7.1 0 0-87.1-39.4-162.2-38.2 0 0-77.7-6.7-76.2 27.8-.1.1-4 60.6 56.8 109.8zM440.2 58.4c59.1-6.8 101.4-8 100.3 31.8 0 62.2-49.4 107-111.7 107s-90.3-38.8-91.5-79.5c-.9-32 49.2-48.4 102.9-59.3zm-280.5 0c53.6 11 103.6 27.3 102.9 59.3-1.2 40.7-29.2 79.5-91.5 79.5S59.5 152.4 59.5 90.2c-1.1-39.9 41.1-38.7 100.2-31.8z",8:"M586.3 68.8c0-1.9.3-6.1.6-10.1.5-6.3-3.4-12-9.4-13.8-9.1-2.8-20-4.7-20-4.7-39.7-17.2-107.4-7.5-107.4-7.5-63.1.3-119.7 31.7-119.7 31.7-8.2 3.9-27.7 4.9-31.3 5-3.6-.1-23-1.1-31.3-5 0 0-56.5-31.5-119.5-31.8 0 0-62.9-10.6-102.5 6.6 0 0-10.5 1.6-20.2 3.9C17 45.2 11 52.8 11 61.5l1.2 8.3s1.7 8.2 3.2 11.3l3.6 8.6 2.7 4 14 42s13.7 47.8 54.9 70.6c0 0 26.1 16.3 61.9 14.8 0 0 40.6.9 74.6-26.1 0 0 25.8-21.4 37.9-53.4l12.1-31.1s3.2-16.6 22-17c18.8.3 22 17 22 17l12.2 31.1c12.2 32.1 38 53.4 38 53.4 34.1 27 74.8 26.1 74.8 26.1 35.9 1.5 62-14.8 62-14.8 41.3-22.9 55-70.6 55-70.6l14-42 1.7-5.1 4-9.5c2.5-4.4 3.5-10.3 3.5-10.3zm-324 33.2c-6.5 61.1-51.3 113.4-111.1 110.8-71.7 2.4-108.7-62.5-110-123.8-.8-43.1 51.9-41 101.1-44.9 56.5 0 121.5 20.1 120 57.9zm185 110.8c-60 2.6-104.9-49.7-111.4-110.8-1.6-37.8 63.6-58 120.3-58 49.3 4 102.1 1.8 101.3 44.9-1.3 61.4-38.5 126.3-110.2 123.9z",9:"M571.5 79c-.2-3.2-1.6-3.1-1.6-3.1l-3.4-.7c-3.6-.4-10.6-3.2-10.6-3.2-6.3-2.5-12.6-8.3-12.6-8.3-8.4-8.3-22.8-17.9-22.8-17.9-28.6-21.8-67.1-20.9-67.1-20.9-38.2-1.7-68.6 14.1-68.6 14.1-29.5 14.3-51.4 39-51.4 39l-2.3 1.8c-2.7 2.1-8.1 2.5-8.1 2.5-5 .8-24.3.5-24.3.5-1.6 0-19.3.2-24-.5 0 0-5.4-.3-8-2.5l-2.3-1.8s-21.7-24.7-51-39c0 0-30.1-15.8-67.9-14.1 0 0-38.1-.9-66.5 20.9 0 0-14.3 9.6-22.6 17.9 0 0-6.2 5.9-12.5 8.3 0 0-7 2.8-10.5 3.2l-3.4.7s-1.4-.1-1.6 3.1l-.7 25.7v.9s.1 1.1 1.9 1.8c0 0 3.7 1.3 5.5 2.2 0 0 5.2 1.6 10.2 11.1 0 0 10.1 28.5 12.7 34.7 0 0 8 22.5 24.3 37.5 0 0 31.4 34.7 80.8 32.2 0 0 29.6 1.8 59.8-17 0 0 27.3-17.2 39.5-50.2 0 0 6.5-16.6 9.2-29.1 0 0 2.3-11.7 6.7-15.6 0 0 4.9-4.8 9.8-5.4 0 0 4.6-.7 10.5-.8 5.9.2 10.5.8 10.5.8 5 .6 10 5.4 10 5.4 4.5 3.8 6.8 15.6 6.8 15.6 2.8 12.5 9.3 29.1 9.3 29.1 12.3 33 39.9 50.2 39.9 50.2 30.4 18.9 60.3 17 60.3 17 49.9 2.6 81.6-32.2 81.6-32.2 16.5-15 24.6-37.5 24.6-37.5 2.7-6.2 12.8-34.7 12.8-34.7 5-9.6 10.3-11.1 10.3-11.1 1.8-.9 5.6-2.2 5.6-2.2 1.8-.7 1.9-1.8 1.9-1.8v-.9l-.7-25.7zm-313.6 47.4c-1.8 52.2-44.8 90.8-99.7 90.8-55-1.5-100.6-46.9-96.8-111.5 2.9-47 45.2-71.4 97.1-69.6 59.6 4 101 38.9 99.4 90.3zm182.6 90.8c-55.4 0-98.8-38.7-100.6-90.8C338.2 74.9 380 40.1 440.2 36c52.4-1.8 95.1 22.5 98.1 69.6 3.8 64.6-42.2 110.1-97.8 111.6z",10:"m593.4 81.8-1.9-.6c-8.8-.6-14.2-11.1-14.2-11.1l-3.9-5.6c-5.8-8.2-24.1-10.3-24.1-10.3-28.8-4.8-80-5.2-80-5.2C430 47.2 353 58.7 353 58.7c-16.7 3.6-51.8 4.5-53.8 4.5-2.1 0-36.9-.9-53.5-4.5 0 0-76.6-11.5-115.7-9.8 0 0-50.9.4-79.5 5.2 0 0-18.2 2.1-24 10.3l-4 5.6S17.2 80.5 8.4 81.1l-1.9.6S5.3 82.9 5.4 84l.7 29.1s.2 2.4 1.7 2.2H13s5.2-1.1 7.3 8.3c0 0 7.4 34.9 15.3 49.4 0 0 6.1 13.7 17.2 18.1 0 0 12.3 7.1 69.8 9.8 0 0 50.5 1.3 74-1.9 0 0 16.3-2.1 24.4-9.5 0 0 10.4-10 16.5-21.1 0 0 22.4-34.6 31.6-71.5l1.2-4.6s.4-4.1 6.2-4.6l22.5-1.2 22.6 1.2c5.9.5 6.3 4.6 6.3 4.6l1.3 4.6c9.3 36.9 31.8 71.5 31.8 71.5 6.2 11.1 16.6 21.1 16.6 21.1 8.2 7.5 24.6 9.5 24.6 9.5 23.6 3.2 74.4 1.9 74.4 1.9 57.8-2.7 70.2-9.8 70.2-9.8 11.2-4.3 17.3-18.1 17.3-18.1 8-14.4 15.4-49.4 15.4-49.4 2.1-9.5 7.4-8.3 7.4-8.3h5.3c1.5.1 1.7-2.2 1.7-2.2l.7-29.1c0-1-1.2-2.2-1.2-2.2zm-343.3 51.1c-9.2 21.6-23.6 51.8-38.2 57.6-14 6.6-38.9 7.6-84.6 7.2-33.2-2.4-57.5-3-73.2-9.9-4.8-2.1-9-5.5-12-9.8-9-12.8-14.2-33.5-17.8-57.6-.4-14.2-6.1-42.1 11.1-53.9 14.1-11 65.4-11.4 102.8-11.9 51.2 2 118 10.5 123.3 20.7 5.4 12-4.2 40.2-11.4 57.6zm26.2-48.5-2.2.2s-.2-.1-.5-.2l11.5-.6-8.8.6zm48.1.2-2.2-.2-14-.8c6.5 0 13 .1 17.6.3-.6.5-1.4.7-1.4.7zm251.1 35.8c-3.7 24.1-8.9 44.8-17.9 57.6-3 4.3-7.2 7.7-12.1 9.8-15.8 6.9-40.2 7.5-73.6 9.9-45.9.4-71-.7-85.1-7.2-14.7-5.8-29.2-36-38.4-57.6-7.2-17.4-16.8-45.6-11.5-57.5 5.3-10.2 72.5-18.7 124-20.7 37.6.6 89.2.9 103.4 11.9 17.4 11.8 11.7 39.6 11.2 53.8z",11:"M572.2 47.1c.1-5.8-3.9-7.1-3.9-7.1l-9.3-1.6c-69.4-5.8-147.9 0-147.9 0-47.2 2.5-55.3 6.7-55.3 6.7-4.5 1.2-12.2 8.2-12.2 8.2-7.4 6.5-13.5 8.8-13.5 8.8-8.5 3.7-22.5 4-28.7 3.9v-.1h-3.2v.1c-6.3.1-20.2-.3-28.7-3.9 0 0-6.1-2.3-13.5-8.8 0 0-7.7-7-12.2-8.2 0 0-8.1-4.1-55.2-6.7 0 0-78.3-5.8-147.6 0L31.7 40s-4 1.4-3.9 7.1l.8 18.4s-.2 2.7 2.5 4.6c0 0 6.1 3.8 8.8 8.6 0 0 3.5 4.8 5 14.2 0 0 4.5 28 8.3 43.5 0 0 6.6 30.1 14.7 43 0 0 7.1 16.2 25.3 22.8 0 0 25.6 12.1 71.4 11.9 0 0 37.6 2.4 61.1-16.6 0 0 13.2-9.6 23.5-31.5 0 0 7.8-16.4 13.5-34.7l6.3-19.5s3.3-11.3 8.2-14.3c0 0 5.1-5.3 22.6-5.5 17.5.2 22.6 5.5 22.6 5.5 5 3 8.2 14.3 8.2 14.3l6.3 19.5c5.8 18.3 13.5 34.7 13.5 34.7 10.3 21.8 23.5 31.5 23.5 31.5 23.5 18.9 61.2 16.6 61.2 16.6 45.8.2 71.5-11.9 71.5-11.9 18.3-6.5 25.4-22.8 25.4-22.8 8.1-12.8 14.7-43 14.7-43 3.9-15.5 8.4-43.5 8.4-43.5 1.4-9.4 5-14.2 5-14.2 2.7-4.8 8.8-8.6 8.8-8.6 2.6-1.9 2.4-4.6 2.4-4.6l.9-18.4zm-355.8 146c-11.7 8-28.4 11-44.6 12.1-14.5 1-29 .4-43.4-1.7-22.8-3.4-39.3-10.1-51.8-30.9-13.2-23.5-17-55.6-18.9-83.9-5.3-51 46.2-44 101.7-42.6 55.5 4.9 96.6 7.3 97.7 55.3-.9 32.5-18.6 77.5-40.7 91.7zM542.3 88.6c-1.9 28.3-5.8 60.5-18.9 83.9-12.6 20.8-29 27.5-51.9 30.9-14.4 2.1-29 2.7-43.5 1.7-16.2-1.1-33-4.1-44.7-12.1-22.2-14.2-39.9-59.2-40.8-91.8 1.1-48 42.3-50.4 97.9-55.3 55.6-1.3 107.2-8.3 101.9 42.7z"},cores:{1:"#000080",2:"#000000",3:"#daa520",4:"#008000",5:"#663399",6:"#ff0000",7:"#ff69b4"},galeria:{visivel:!1,lista:[]}}},methods:{btnRota(e){this.rota=e,this.contatoFechar(),e==="Pupilometro"&&($db.pupilometro.limpar(),$db.pupilometro.medidas.tipo="Arma\xE7\xE3o",this.pupilometro={visivel:!0,somenteLeitura:!1,avancar:"TirarFoto"})},contatoAbrir(){this.dados.id=$utils.uuid(),this.contatoOriginal=$utils.clonar(this.contato),this.contato.visivel=!0},contatoFechar(){this.contato=$utils.clonar(this.contatoOriginal)},contatoVoltar(){this.rota="Contato",this.contato.tab="nome",this.contato.visivel=!0},contatoAvancar(){var t,r;const e=this.contato.tabs.indexOf(this.contato.tab);if(e<this.contato.tabs.length-1){const a=this.contato.tabs[e+1];a==="telefone"&&!!((t=this.dados)!=null&&t.nome)?this.contato.tab=a:a==="telefone"&&$q.notify("Preencha o nome para continuar."),a==="rota"&&!!((r=this.dados)!=null&&r.telefone)?this.contato.tab=a:a==="rota"&&$q.notify("Preencha o telefone para continuar.")}},async btnCamera(){try{$q.loading.show(),this.dadosIndex+=1,this.dados.fotoOriginal=this.$refs.Visagismo.btnCaptura(),this.dados.foto=this.dados.fotoOriginal,this.dados.nome=$utils.removerCaracteresEspeciais(this.dados.nome);const e={arquivo:this.dados.foto,id:$utils.uuid(),nome:this.dados.nome+"-"+this.dadosIndex+".png",tipoArquivo:"visagismo",idTabelaMaster:this.dados.id};if(await $db.arquivo.gravaOnline(e,"Optiface"))$q.notifyPositive("Foto salva na galeria!");else throw new Error("Algo deu errado ao salvar a imagem.");await this.verificaGaleria()}catch(e){$q.notifyError("Erro: ",e)}finally{$q.loading.hide()}},btnRosto(e){var r,a,i,s;this.dados.rosto=e;const t=(a=this.rostos[(r=this.dados)==null?void 0:r.rosto])==null?void 0:a.armacoes;t!=null&&t.includes((i=this.dados)==null?void 0:i.armacao)||(this.dados.armacao=(s=t==null?void 0:t[0])!=null?s:1)},btnMarcadores(){this.$refs.Visagismo.btnMarcadores()},btnProporcoes(){this.$refs.Visagismo.btnProporcoes()},btnCor(e){this.$refs.Visagismo.btnCor(this.cores[e])},btnGaleria(){this.dados.id&&this.galeria.lista.length?this.galeria.visivel=!0:$q.notify("Preencha os dados para visualizar a galeira")},async verificaGaleria(){const e=await $db.arquivo.lista({bancoDeDados:"Optiface",tipoArquivo:"visagismo",idTabelaMaster:this.dados.id})||[];this.galeria.lista=e},pupFechar(e=""){if(e==="fechar"&&(this.contatoFechar(),this.pupilometro={visivel:!1}),e==="abrirContato"&&this.pupilometro.somenteLeitura){this.contatoFechar(),this.pupilometro={visivel:!1};return}},idioma(e){e.value==="pt-BR"&&(this.maskTelefone="(##) #####-####"),e.value==="en-US"&&(this.maskTelefone="(###) ###-####"),e.value==="fr-FR"&&(this.maskTelefone="## ## ## ## ##"),e.value==="es-ES"&&(this.maskTelefone="### ### ###"),e.value==="de-DE"&&(this.maskTelefone="#### ########")},resize(){this.tela={header:$utils.tela("pageHeader").height,footer:$utils.tela("pageFooter").height}}},mounted(){this.$refs.Visagismo.startAR()}},xs={id:"Foto"},bs={viewBox:"0 0 300 420",style:{width:"32px",height:"32px"}},ws=["d"],$s={viewBox:"0 0 300 420",style:{width:"32px",height:"32px"}},zs=["d","fill"],Fs={viewBox:"0 0 600 250",style:{width:"60px",height:"25px","margin-top":"5px"}},Cs=["d"],qs={viewBox:"0 0 600 250",style:{width:"60px",height:"25px",margin:"0 auto"}},_s=["d","fill"],Ps={viewBox:"0 0 600 250",style:{width:"60px",height:"25px",margin:"0 auto"}},ks=["d"];function Ts(e,t,r,a,i,s){const h=z("ToolbarMain"),p=z("Visagismo"),v=z("Pupilometro"),w=z("Galeria");return y(),g("div",xs,[o(pt,{id:"pageHeader",class:"bg-dark"},{default:d(()=>[o(h,{onIdioma:s.idioma},null,8,["onIdioma"])]),_:1}),o(mt,null,{default:d(()=>[o(ht,{style:ft(`
        min-height:calc(100vh - ${i.tela.header+i.tela.footer}px);
        max-height:calc(100vh - ${i.tela.header+i.tela.footer}px);
      `)},{default:d(()=>[o(O,{onResize:t[0]||(t[0]=c=>s.resize())}),o(p,{ref:"Visagismo"},null,512)]),_:1},8,["style"])]),_:1}),o(Et,{id:"pageFooter",class:"bg-dark"},{default:d(()=>[o(k,{class:"g-container"},{default:d(()=>[i.rota!=="Contato"?(y(),D(n,{key:0,onClick:t[1]||(t[1]=c=>s.contatoVoltar()),icon:"arrow_back",color:"primary",flat:"",round:""})):M("",!0),o(bt),i.rota==="Contato"?(y(),D(n,{key:1,onClick:t[2]||(t[2]=c=>s.contatoAbrir()),unelevated:"",label:"come\xE7ar",color:"primary",class:"btComecar q-my-md"})):M("",!0),i.rota==="Visagismo"?(y(),g(H,{key:2},[o(lt,{"no-caps":"",stretch:"",flat:"",color:"primary",class:"q-px-xs semIconeDireita"},{label:d(()=>[o(R,{class:"q-py-xs q-px-sm"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>{var c;return[(y(),g("svg",bs,[l("path",{d:(c=i.rostos[i.dados.rosto])==null?void 0:c.svg,fill:"var(--primary)"},null,8,ws)]))]}),_:1}),o(P,{caption:"",class:"text-primary"},{default:d(()=>{var c;return[$(C((c=i.rostos[i.dados.rosto])==null?void 0:c.tipo),1)]}),_:1})]),_:1})]),_:1})]),default:d(()=>[u((y(),D(at,{link:"","no-border":"",separator:""},{default:d(()=>[(y(!0),g(H,null,J(i.rostos,(c,q)=>(y(),D(R,{key:q,dense:"",clickable:"",onClick:F=>s.btnRosto(parseInt(q)),class:"q-pa-xs q-pr-sm"},{default:d(()=>[o(Q,{side:"",class:"no-margin no-padding",style:{height:"32px"}},{default:d(()=>[(y(),g("svg",$s,[l("path",{d:c.svg,fill:parseInt(q)===i.dados.rosto?"var(--primary)":"var(--tertiary)"},null,8,zs)]))]),_:2},1024),o(Q,{class:"no-margin no-padding",style:{height:"32px"}},{default:d(()=>[o(P,{caption:"",class:Ut(`${parseInt(q)===i.dados.rosto?"text-primary":"text-tertiary"}`)},{default:d(()=>[$(C(c.tipo),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})),[[N]])]),_:1}),o(lt,{"no-caps":"",stretch:"",flat:"",color:"primary",class:"q-px-xs semIconeDireita"},{label:d(()=>[o(R,{class:"q-py-xs q-px-sm"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[(y(),g("svg",Fs,[l("path",{d:i.armacoes[i.dados.armacao],fill:"var(--primary)"},null,8,Cs)]))]),_:1}),o(P,{caption:"",class:"text-primary"},{default:d(()=>t[16]||(t[16]=[$(" Arma\xE7\xE3o ")])),_:1})]),_:1})]),_:1})]),default:d(()=>[u((y(),D(at,{link:"","no-border":"",separator:""},{default:d(()=>{var c,q;return[(y(!0),g(H,null,J((q=i.rostos[(c=i.dados)==null?void 0:c.rosto])==null?void 0:q.armacoes,(F,_)=>(y(),D(R,{key:_,onClick:L=>i.dados.armacao=F,clickable:"",dense:"",class:"q-px-sm q-py-xs"},{default:d(()=>[o(Q,{style:{height:"32px"}},{default:d(()=>[(y(),g("svg",qs,[l("path",{d:i.armacoes[F],fill:F===i.dados.armacao?"var(--primary)":"var(--tertiary)"},null,8,_s)]))]),_:2},1024)]),_:2},1032,["onClick"]))),128))]}),_:1})),[[N]])]),_:1}),o(lt,{"no-caps":"",stretch:"",flat:"",color:"primary",class:"q-px-xs semIconeDireita"},{label:d(()=>[o(R,{class:"q-py-xs q-px-sm"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[o(S,{name:"opacity",size:"30px",color:"primary"})]),_:1}),o(P,{caption:"",class:"q-pt-xs text-primary"},{default:d(()=>t[17]||(t[17]=[$(" Cores ")])),_:1})]),_:1})]),_:1})]),default:d(()=>[u((y(),D(at,{link:"","no-border":"",separator:""},{default:d(()=>[(y(!0),g(H,null,J(i.cores,(c,q)=>(y(),D(R,{key:q,onClick:F=>s.btnCor(q),clickable:"",dense:"",class:"q-pa-xs"},{default:d(()=>[o(Q,{class:"rounded-borders q-pa-sm",style:ft(`height:32px;background:${c};`)},{default:d(()=>[(y(),g("svg",Ps,[l("path",{d:i.armacoes[i.dados.armacao],fill:"white"},null,8,ks)]))]),_:2},1032,["style"])]),_:2},1032,["onClick"]))),128))]),_:1})),[[N]])]),_:1}),o(n,{onClick:t[3]||(t[3]=c=>s.btnMarcadores()),"no-caps":"",stretch:"",flat:"",color:"primary q-py-xs q-px-sm"},{default:d(()=>[o(R,{class:"q-pa-none"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[o(S,{name:"hub",size:"30px",color:"primary"})]),_:1}),o(P,{caption:"",class:"q-pt-xs text-primary"},{default:d(()=>t[18]||(t[18]=[$(" Marcadores ")])),_:1})]),_:1})]),_:1})]),_:1}),o(n,{onClick:t[4]||(t[4]=c=>s.btnProporcoes()),"no-caps":"",stretch:"",flat:"",color:"primary q-py-xs q-px-sm"},{default:d(()=>[o(R,{class:"q-pa-none"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[o(S,{name:"view_day",size:"30px",color:"primary"})]),_:1}),o(P,{caption:"",class:"q-pt-xs text-primary"},{default:d(()=>t[19]||(t[19]=[$(" Propor\xE7\xF5es ")])),_:1})]),_:1})]),_:1})]),_:1}),o(n,{onClick:t[5]||(t[5]=c=>s.btnCamera()),"no-caps":"",stretch:"",flat:"",color:"primary q-py-xs q-px-sm"},{default:d(()=>[o(R,{class:"q-pa-none"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[o(S,{name:"camera",size:"30px",color:"primary"})]),_:1}),o(P,{caption:"",class:"q-pt-xs text-primary"},{default:d(()=>t[20]||(t[20]=[$(" C\xE2mera ")])),_:1})]),_:1})]),_:1})]),_:1}),i.galeria.lista.length?(y(),D(n,{key:0,onClick:t[6]||(t[6]=c=>s.btnGaleria()),"no-caps":"",stretch:"",flat:"",color:"primary q-py-xs q-px-sm"},{default:d(()=>[o(R,{class:"q-pa-none"},{default:d(()=>[o(Q,null,{default:d(()=>[o(P,null,{default:d(()=>[o(S,{name:"photo_library",size:"30px",color:"primary"})]),_:1}),o(P,{caption:"",class:"q-pt-xs text-primary"},{default:d(()=>t[21]||(t[21]=[$(" Galeria ")])),_:1})]),_:1})]),_:1})]),_:1})):M("",!0)],64)):M("",!0),o(bt)]),_:1})]),_:1}),o(K,{modelValue:i.contato.visivel,"onUpdate:modelValue":t[14]||(t[14]=c=>i.contato.visivel=c),onHide:t[15]||(t[15]=c=>s.contatoFechar())},{default:d(()=>[o(Ht,{class:"no-shadow q-py-xl q-px-lg",style:{width:"320px"}},{default:d(()=>[o(Yt,{onSubmit:t[13]||(t[13]=c=>s.contatoAvancar()),novalidate:"",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},{default:d(()=>[o(Vt,{modelValue:i.contato.tab,"onUpdate:modelValue":t[11]||(t[11]=c=>i.contato.tab=c),animated:""},{default:d(()=>[o(nt,{name:"nome",class:"q-pa-none"},{default:d(()=>[o(G,{class:"q-pa-none q-mb-lg"},{default:d(()=>[o(xt,{modelValue:i.dados.nome,"onUpdate:modelValue":t[7]||(t[7]=c=>i.dados.nome=c),autofocus:"",type:"text",label:"Nome",dense:""},null,8,["modelValue"])]),_:1})]),_:1}),o(nt,{name:"telefone",class:"q-pa-none"},{default:d(()=>[o(G,{class:"q-pa-none q-mb-lg"},{default:d(()=>[o(xt,{modelValue:i.dados.telefone,"onUpdate:modelValue":t[8]||(t[8]=c=>i.dados.telefone=c),mask:i.maskTelefone,autofocus:"",dense:"",type:"tel",label:"Telefone"},null,8,["modelValue","mask"])]),_:1})]),_:1}),o(nt,{name:"rota",class:"q-pa-none"},{default:d(()=>[o(G,{class:"q-pa-none q-mb-lg text-center"},{default:d(()=>[o(n,{onClick:t[9]||(t[9]=c=>s.btnRota("Pupilometro")),label:"Pupil\xF4metro",color:"primary"})]),_:1}),o(G,{class:"q-pa-none text-center"},{default:d(()=>[o(n,{onClick:t[10]||(t[10]=c=>s.btnRota("Visagismo")),label:"Visagismo",color:"primary"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i.contato.tab!=="rota"?(y(),D(Xt,{key:0,class:"q-pa-none"},{default:d(()=>[o(n,{onClick:t[12]||(t[12]=c=>s.contatoAvancar()),icon:"arrow_forward",round:"",unelevated:"",color:"primary",class:"q-mx-auto"})]),_:1})):M("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(v,{onFecharModal:s.pupFechar,pupilometro:i.pupilometro,ref:"Pupilometro"},null,8,["onFecharModal","pupilometro"]),i.galeria.visivel?(y(),D(w,{key:0,galeria:i.galeria,ref:"Galeria"},null,8,["galeria"])):M("",!0)])}var Qs=T(gs,[["render",Ts]]);export{Qs as default};
